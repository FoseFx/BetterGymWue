(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],{"./src/$$_lazy_route_resource lazy recursive":function(e,t,n){var r={"app/help/help.module":["./src/app/help/help.module.ts","app-help-help-module"],"app/verifynotkurse/verifynotkurse.module":["./src/app/verifynotkurse/verifynotkurse.module.ts"]};function a(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){var e=t[0];return n(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}a.keys=function(){return Object.keys(r)},a.id="./src/$$_lazy_route_resource lazy recursive",e.exports=a},"./src/app/Classes.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"VertretungsReihe",function(){return r}),n.d(t,"Kurs",function(){return a}),n.d(t,"TimeTable",function(){return s}),n.d(t,"TimeTableSlot",function(){return o}),n.d(t,"NetworkError",function(){return i});var r=function(){return function(){}}(),a=function(){return function(){}}(),s=function(){return function(){}}(),o=function(){return function(){}}(),i=function(){return function(){}}()},"./src/app/app-routing.module.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"AppRoutingModule",function(){return b});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/router/fesm5/router.js"),s=n("./src/app/main/c/login/login.component.ts"),o=n("./src/app/main/s/guard.service.ts"),i=n("./src/app/main/c/agb/agb.component.ts"),c=n("./src/app/main/c/select/select.component.ts"),l=n("./src/app/main/c/show/show.component.ts"),u=n("./src/app/main/c/cloud/cloud.component.ts"),d=n("./src/app/main/c/about/about.component.ts"),p=n("./src/app/main/c/stundenplan/stundenplan.component.ts"),f=n("./src/app/main/c/error/error.component.ts"),m=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},h=[{path:"",component:s.LoginComponent,canActivate:[o.GuardService]},{path:"agb",component:i.AgbComponent},{path:"select",component:c.SelectComponent,canActivate:[o.GuardService]},{path:"show",canActivate:[o.GuardService],children:[{path:"",component:l.ShowComponent},{path:"non-kurse",loadChildren:"app/verifynotkurse/verifynotkurse.module#VerifynotkurseModule"}]},{path:"cloud",component:u.CloudComponent,canActivate:[o.GuardService]},{path:"about",component:d.AboutComponent},{path:"stundenplan",component:p.StundenplanComponent,canActivate:[o.GuardService]},{path:"help",loadChildren:"app/help/help.module#HelpModule"},{path:"**",component:f.ErrorComponent}],b=function(){function e(){}return e=m([Object(r.NgModule)({imports:[a.RouterModule.forRoot(h)],exports:[a.RouterModule]})],e)}()},"./src/app/app.module.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MyHammerConfig",function(){return Q}),n.d(t,"AppModule",function(){return G});var r,a=n("./node_modules/@angular/platform-browser/fesm5/platform-browser.js"),s=n("./node_modules/@angular/core/fesm5/core.js"),o=n("./node_modules/@angular/forms/fesm5/forms.js"),i=n("./src/app/main/c/A_root/app.component.ts"),c=n("./src/app/main/c/agb/agb.component.ts"),l=n("./src/app/main/c/login/login.component.ts"),u=n("./src/app/main/s/guard.service.ts"),d=n("./node_modules/@angular/common/fesm5/http.js"),p=n("./src/app/main/c/select/select.component.ts"),f=n("./src/app/main/c/select/stufe/stufe.component.ts"),m=n("./src/app/main/s/network/netw.service.ts"),h=n("./src/app/main/s/alert.service.ts"),b=n("./src/app/main/c/select/kurse/kurse.component.ts"),g=n("./src/app/main/c/show/show.component.ts"),v=n("./src/app/main/c/show/ttcontainer/ttcontainer.component.ts"),y=n("./node_modules/@angular/platform-browser/fesm5/animations.js"),w=n("./node_modules/@angular/material/esm5/material.es5.js"),S=n("./src/app/main/c/cloud/cloud.component.ts"),I=n("./src/app/main/c/about/about.component.ts"),C=n("./src/app/main/c/stundenplan/stundenplan.component.ts"),O=n("./src/app/main/c/error/error.component.ts"),F=n("./src/app/main/s/refreshtt.service.ts"),B=n("./node_modules/@angular/common/fesm5/common.js"),k=n("./src/app/main/s/base/base.service.ts"),x=n("./src/app/main/c/select/kurse/get-from-kurse-modal.component.ts"),R=n("./src/app/app-routing.module.ts"),D=n("./src/app/main/sure/sure.dialog.component.ts"),j=n("./src/app/verifynotkurse/verifynotkurse.module.ts"),_=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),U=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.buildHammer=function(e){return new Hammer(e,{touchAction:"auto",inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput,recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]})},t}(a.HammerGestureConfig),G=function(){function e(){}return e=U([Object(s.NgModule)({declarations:[i.AppComponent,c.AgbComponent,l.LoginComponent,p.SelectComponent,f.StufeComponent,b.KurseComponent,g.ShowComponent,v.TtcontainerComponent,S.CloudComponent,I.AboutComponent,C.StundenplanComponent,O.ErrorComponent,x.GetFromKurseModalComponent,D.SureDialogComponent],imports:[a.BrowserModule,o.FormsModule,d.HttpClientModule,y.BrowserAnimationsModule,w.MatInputModule,w.MatFormFieldModule,w.MatSelectModule,w.MatSidenavModule,w.MatListModule,w.MatToolbarModule,w.MatButtonModule,w.MatIconModule,w.MatTabsModule,w.MatSlideToggleModule,w.MatCardModule,w.MatSnackBarModule,w.MatDialogModule,R.AppRoutingModule,j.VerifynotkurseModule],providers:[k.BaseService,{provide:s.LOCALE_ID,useValue:"de"},u.GuardService,m.NetwService,h.AlertService,F.RefreshttService,{provide:a.HAMMER_GESTURE_CONFIG,useClass:Q},{provide:B.APP_BASE_HREF,useValue:"/"}],bootstrap:[i.AppComponent],entryComponents:[x.GetFromKurseModalComponent,D.SureDialogComponent]})],e)}()},"./src/app/conf.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CONFIG",function(){return o}),n.d(t,"APP_VERSION",function(){return i});var r="https://proxy.fosefx.com",a=r+"/v2/http://gymnasium-wuerselen.de/untis/",s="https://bettergymwue.firebaseio.com/",o={baseURL:a,credentialsCheckUrl:a+"Schueler-Stundenplan/frames/navbar.htm",credentialsCheckLehrerUrl:a+"Lehrer-Stundenplan/frames/navbar.htm",baseKursURL:a+"Schueler-Stundenplan/",dbUrl:s+"kurse/",vertURL:a+"Schueler/",lehrerURL:a+"Lehrer/",databaseURL:s,ferienUrl:s+"ferien/ferien.json",ferienEndsUrl:s+"ferien/ends.json",resets:s+"resets.json",resetHeader:s+"resetMsg/header.json",resetMsg:s+"resetMsg/message.json",message:s+"header.json",hashURL:r+"/v2/hash",versionURL:r+"/v2/version"},i="1.6.2 Beta"},"./src/app/main/c/A_root/app.component.css":function(e,t){e.exports=".hamnav{\n  font-family: Roboto, \"Helvetica Neue\", sans-serif;\n  display: block;\n  height: 100%;\n  background: whitesmoke;\n  z-index: 100;\n}\n.hamnav *{\n  position: relative;\n  z-index: 101;\n}\nmat-toolbar{\n  z-index: 100;\n}\n.head{\n  background: url('nav.jpg') no-repeat right top;\n  color: white;\n  padding: 65px 5px 5px 15px;\n}\n.head *{\n   font-weight: lighter!important;\n }\nsmall{\n  color: lightgrey!important;\n}\nmat-nav-list{\n  color: #444444;\n}\ni{\n  color: rgba(0, 0, 0, 0.7);\n}\n.notToolbar{\n  top: 56px;\n  height: calc(100vh - 56px);\n}\n@media (max-width: 300px){\n  .title{\n    display: none ;\n  }\n}\nhr{\n  margin-top: 0!important;\n  margin-bottom: 0!important;\n  width: 90%!important;\n  opacity: 0.3;\n}\n#cntnd{\n  overflow-y: visible;\n}\n@media (max-width: 345px) {\n  #idekam{\n    padding: 0;\n  }\n}\nmat-nav-list{\n  padding-bottom: 1em;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9jL0Ffcm9vdC9hcHAuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlEQUFpRDtFQUNqRCxjQUFjO0VBQ2QsWUFBWTtFQUNaLHNCQUFzQjtFQUN0QixZQUFZO0FBQ2Q7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0FBQ2Q7QUFDQTtFQUNFLFlBQVk7QUFDZDtBQUVBO0VBQ0UsOENBQWlFO0VBQ2pFLFlBQVk7RUFDWiwwQkFBMEI7QUFDNUI7QUFBQztHQUNFLDhCQUE4QjtDQUNoQztBQUNEO0VBQ0UsMEJBQTBCO0FBQzVCO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSx5QkFBeUI7QUFDM0I7QUFFQTtFQUNFLFNBQVM7RUFDVCwwQkFBMEI7QUFDNUI7QUFDQTtFQUNFO0lBQ0UsY0FBYztFQUNoQjtBQUNGO0FBQ0E7RUFDRSx1QkFBdUI7RUFDdkIsMEJBQTBCO0VBQzFCLG9CQUFvQjtFQUNwQixZQUFZO0FBQ2Q7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0U7SUFDRSxVQUFVO0VBQ1o7QUFDRjtBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9jL0Ffcm9vdC9hcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5oYW1uYXZ7XG4gIGZvbnQtZmFtaWx5OiBSb2JvdG8sIFwiSGVsdmV0aWNhIE5ldWVcIiwgc2Fucy1zZXJpZjtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogd2hpdGVzbW9rZTtcbiAgei1pbmRleDogMTAwO1xufVxuLmhhbW5hdiAqe1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHotaW5kZXg6IDEwMTtcbn1cbm1hdC10b29sYmFye1xuICB6LWluZGV4OiAxMDA7XG59XG5cbi5oZWFke1xuICBiYWNrZ3JvdW5kOiB1cmwoXCIuLi8uLi8uLi8uLi9hc3NldHMvbmF2LmpwZ1wiKSBuby1yZXBlYXQgcmlnaHQgdG9wO1xuICBjb2xvcjogd2hpdGU7XG4gIHBhZGRpbmc6IDY1cHggNXB4IDVweCAxNXB4O1xufS5oZWFkICp7XG4gICBmb250LXdlaWdodDogbGlnaHRlciFpbXBvcnRhbnQ7XG4gfVxuc21hbGx7XG4gIGNvbG9yOiBsaWdodGdyZXkhaW1wb3J0YW50O1xufVxubWF0LW5hdi1saXN0e1xuICBjb2xvcjogIzQ0NDQ0NDtcbn1cbml7XG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7XG59XG5cbi5ub3RUb29sYmFye1xuICB0b3A6IDU2cHg7XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDU2cHgpO1xufVxuQG1lZGlhIChtYXgtd2lkdGg6IDMwMHB4KXtcbiAgLnRpdGxle1xuICAgIGRpc3BsYXk6IG5vbmUgO1xuICB9XG59XG5ocntcbiAgbWFyZ2luLXRvcDogMCFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1ib3R0b206IDAhaW1wb3J0YW50O1xuICB3aWR0aDogOTAlIWltcG9ydGFudDtcbiAgb3BhY2l0eTogMC4zO1xufVxuXG4jY250bmR7XG4gIG92ZXJmbG93LXk6IHZpc2libGU7XG59XG5AbWVkaWEgKG1heC13aWR0aDogMzQ1cHgpIHtcbiAgI2lkZWthbXtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG59XG5cbm1hdC1uYXYtbGlzdHtcbiAgcGFkZGluZy1ib3R0b206IDFlbTtcbn1cbiJdfQ== */"},"./src/app/main/c/A_root/app.component.html":function(e,t){e.exports='<mat-drawer-container autosize style="width: 100%; height: 100%; overflow-x: hidden;overflow-y: visible!important;">\n\n  <mat-drawer #hamNav mode="over" class="hamnav">\n    <div class="head">\n      <h2>Better Gym Wue</h2>\n      <h3><small class="text-muted">Made by @FoseFx</small></h3>\n    </div>\n    <mat-nav-list>\n      <ng-container *ngIf="!!win.installpromptevent">\n        <hr><br>\n        <a mat-list-item (click)="install()"><b><i class="material-icons">get_app</i>&nbsp; Installieren</b></a>\n        <br><hr>\n      </ng-container>\n      <a mat-list-item routerLink="/" (click)="hamNav.close()"><i class="material-icons">home</i>&nbsp; Home</a>\n      <a mat-list-item routerLink="cloud" (click)="hamNav.close()"><i class="material-icons">cloud</i>&nbsp; Kurs-Cloud</a>\n      <hr>\n\n      <a [ngClass]="{\'disabled\': !credentialsLiegen}" mat-list-item routerLink=\'/\' [queryParams]="{\'force\': true}" (click)="hamNav.close()"><i class="material-icons">school</i>&nbsp; Lehrer Zugang hinzufügen</a>\n      <a mat-list-item [ngClass]="{\'disabled\': !baseService.myKurse}" routerLink="stundenplan" (click)="hamNav.close()"><i class="material-icons">assignment</i>&nbsp;Stundenplan</a>\n      <hr>\n      <a mat-list-item [ngClass]="{\'disabled\': !baseService.myKurse}" (click)="removeKurse()"><i class="material-icons">delete</i>&nbsp; Kurse löschen</a>\n      <a mat-list-item [ngClass]="{\'disabled\': !baseService.KlassenKurse}" (click)="hamNav.close()" routerLink="/show/non-kurse"><i class="material-icons">swap_horiz</i>&nbsp; Nicht-Kurse ändern</a>\n      <a mat-list-item [ngClass]="{\'disabled\': !baseService.myKurse}" (click)="refreshTT()"><i class="material-icons">refresh</i>&nbsp; Stundenplan aktualisieren</a>\n      <hr>\n      <a mat-list-item routerLink="agb" (click)="hamNav.close()"><i class="material-icons">gavel</i>&nbsp; Wichtige Hinweise</a>\n      <a mat-list-item routerLink="about" (click)="hamNav.close()"><i class="material-icons">account_circle</i>&nbsp; Über</a>\n      <hr>\n      <a mat-list-item routerLink="help" (click)="hamNav.close()"><i class="material-icons">live_help</i>&nbsp; Hilfe & Feedback</a>\n    </mat-nav-list>\n\n  </mat-drawer>\n\n  <div id="cntnd" #cntnd (swiperight)="swipe(\'r\', $event)" (swipeleft)="swipe(\'l\', $event)" style="height: 100%;min-height: 100vh; width: 100%; overflow-x: hidden">\n\n    <mat-toolbar style="position:relative;z-index: 100;" color="primary">\n      <button mat-icon-button name="Open/Close Menu" (click)="hamNav.toggle()">\n        <mat-icon >menu</mat-icon>\n      </button>\n      <span class="title">&nbsp; Better Gym Wue</span>\n    </mat-toolbar>\n    <div class="pulseing"\n\t\t\t\t *ngIf="updateAv && !win.location.href.includes(\'about\')"\n\t\t\t\t style="width: 100%!important; height: 26px; text-align: center; padding-top: 4px">\n\t\t\t<p style="color: black; margin: 3px 0 0 0!important;">Zum Updaten neuladen (Infos s. "Über")</p>\n\t\t</div>\n\n\t\t<div class="pulseing"\n\t\t\t\t style="width: 100%!important; height: 26px; text-align: center; padding-top: 4px"\n\t\t\t\t\t*ngIf="needsRefresh">\n\t\t\t<p style="color: black; margin: 3px 0 0 0!important;">BGW hat einen neuen Stundenplan erkannt.</p>\n\t\t</div>\n\n    <mat-card *ngIf="baseService.justResetted" class="center" style="position:relative; text-align: left!important; padding-bottom: 50px; margin-bottom: 10px!important;">\n      <mat-card-header>\n        <mat-icon mat-card-avatar>announcement</mat-icon>\n        <mat-card-title>{{reset.header | async }}</mat-card-title><span style="clear: both"></span>\n        <mat-card-subtitle>{{ reset.message  | async }}</mat-card-subtitle>\n      </mat-card-header>\n    </mat-card>\n\n    <mat-card *ngIf="(message.message$ | async)?.count > message.count"\n      style="position:relative; text-align: left!important; padding-bottom: 50px; margin-bottom: 10px!important;" class="center">\n      <mat-card-header>\n        <mat-icon mat-card-avatar>announcement</mat-icon>\n        <mat-card-title>{{(message.message$ | async)?.title }}</mat-card-title><span style="clear: both"></span>\n        <mat-card-subtitle [innerHTML]="(message.message$  | async)?.msg"></mat-card-subtitle>\n      </mat-card-header>\n      <button mat-button style="display: block; position:absolute; right: 10px" (click)="message.resetCount()">Schließen</button>\n    </mat-card>\n\n    <div *ngIf="baseService.milchglas" style="width: 100%; height: 100vh; position:fixed; z-index: 2; top: 0; left: 0; opacity: 0.7; background: white; display: flex; justify-content: center; align-items: center">\n      <div class="spinner center">\n        <div class="dot1"></div>\n        <div class="dot2"></div>\n      </div>\n    </div>\n    <div class="container notToolbar" style="width: 100%!important;">\n      <div class="col-xl-8 col-lg-10 col-sm-12 col-md-12 center" id="idekam" style="overflow-y: auto">\n        <router-outlet *ngIf="done" style="z-index: 0!important; width: 100%" id="rootRoute"></router-outlet>\n      </div>\n    </div>\n  </div>\n</mat-drawer-container>\n'},"./src/app/main/c/A_root/app.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"AppComponent",function(){return h});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/base/base.service.ts"),s=n("./src/app/main/s/network/netw.service.ts"),o=n("./src/app/main/s/refreshtt.service.ts"),i=n("./node_modules/@angular/common/locales/de.js"),c=n.n(i),l=n("./node_modules/@angular/common/fesm5/common.js"),u=n("./src/app/main/s/message.service.ts"),d=n("./node_modules/@angular/material/esm5/material.es5.js"),p=n("./src/app/main/sure/sure.dialog.component.ts"),f=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object(l.registerLocaleData)(c.a);var h=function(){function e(e,t,n,r,a){this.baseService=e,this.netwService=t,this.refresh=n,this.message=r,this.dialog=a,this.done=!0,this.updateAv=!1,this.needsRefresh=!1,this.reset={header:void 0,message:void 0}}return Object.defineProperty(e.prototype,"win",{get:function(){return window},enumerable:!0,configurable:!0}),e.prototype.install=function(){this.baseService.install(),this.hamnav.close()},e.prototype.ngOnInit=function(){var e=this;this.baseService.myKurse&&this.refresh.needsRefresh().then(function(t){return e.needsRefresh=t}),this.baseService.needsUpdate().then(function(){e.updateAv=!0}).catch(),this.baseService.justResetted&&(this.reset.header=this.baseService.getResetHeader(),this.reset.message=this.baseService.getResetMessage())},e.prototype.swipe=function(e,t){document.getElementsByClassName("fuckYou")[0].contains(t.target)||("r"===e&&!1===this.hamnav.opened&&this.hamnav.open(),"l"===e&&this.hamnav.close())},e.prototype.removeKurse=function(){var e=this;this.hamnav.close(),this.dialog.open(p.SureDialogComponent).afterClosed().subscribe(function(t){t&&(e.refresh.removeKurse(),b())})},e.prototype.refreshTT=function(){var e=this;this.hamnav.close(),this.dialog.open(p.SureDialogComponent).afterClosed().subscribe(function(t){t&&e.refresh.refreshTT().then(function(){b()})})},Object.defineProperty(e.prototype,"credentialsLiegen",{get:function(){return!!this.baseService.credentials&&!this.baseService.credentials.l},enumerable:!0,configurable:!0}),f([Object(r.ViewChild)("hamNav"),m("design:type",Object)],e.prototype,"hamnav",void 0),f([Object(r.ViewChild)("cntnd"),m("design:type",Object)],e.prototype,"content",void 0),e=f([Object(r.Component)({selector:"app-root",template:n("./src/app/main/c/A_root/app.component.html"),styles:[n("./src/app/main/c/A_root/app.component.css")]}),m("design:paramtypes",[a.BaseService,s.NetwService,o.RefreshttService,u.MessageService,d.MatDialog])],e)}();function b(){setTimeout(function(){location.reload()},500)}},"./src/app/main/c/about/about.component.css":function(e,t){e.exports="\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vYy9hYm91dC9hYm91dC5jb21wb25lbnQuY3NzIn0= */"},"./src/app/main/c/about/about.component.html":function(e,t){e.exports='<mat-card class="center" style="margin-bottom: 50px!important; margin-top: 10px!important;">\n  <br>\n  <h1>Better Gym Wue <span class="text-muted">v. {{version}}</span></h1>\n  <p>Dieser Service wird nicht von dem Gymnasium der Stadt Würselen unterstützt oder gesponsert und ist ein alleiniges Projekt von FoseFx </p>\n\n  <div *ngIf="up">\n    <div class="pulseing" style="width: 100%; height: 2px;"></div><br>\n    <h2 class="text-muted">Update:</h2>\n\t\t<ul class="text-muted" style="margin-left: 10px"><li *ngFor="let m of msg;"><b>{{m}}</b></li></ul>\n    <p>Für Updates musst du BGW einfach aktualisieren. D.h. im Browser z.B. <b>F5</b> oder <b>Shift + F5</b>. Oder einfach auf den Button klicken:</p>\n    <div style="width: 100%; height: 150px; display: flex; align-items: center; justify-content: center;">\n      <button mat-raised-button onclick="location.reload()" style="height:44px!important;">\n        <mat-icon class="pulseing-color" style="transform: rotate(40deg) scale(-1, 1)">replay</mat-icon>\n      </button>\n    </div>\n    <p>Das musst du ggf. mehmals machen, wenn es nicht funktioniert, versuch es später nochmal.</p>\n    <div class="pulseing" style="width: 100%; height: 2px;"></div>\n    <br>\n  </div>\n\n\n  <hr *ngIf="!up">\n  <h2>Legende:</h2>\n  <mat-card>\n    <h2><small class="text-muted">Info-Box:</small></h2>\n    <table style="width: 80%; text-align: center; margin: 0 auto;" class="table table-sm">\n      <tbody>\n      <tr><td class="bold">Überschrift</td></tr>\n      <tr><td>Normale Informationen</td></tr>\n      <tr><td class="schulplaner">Informationen aus dem Schulplaner</td></tr>\n      </tbody>\n    </table>\n    <br>\n    <h2><small class="text-muted">Vertretungsdaten:</small></h2>\n    <br>\n    <table class="table table-hover" style="width: 80%; margin: 0 auto; text-align: center">\n      <tbody>\n      <tr><td>Normaler Unterricht</td></tr>\n      <tr><td class="vertretung">Vertretung</td></tr>\n      <tr><td class="entfall">Entfall (oder Selbst. Arbeiten)</td></tr>\n      <tr><td class="raumV">Raumvertretung</td></tr>\n      <tr><td class="klausur">Klausur</td></tr>\n      <tr><td class="uncertain">Lehrer fehlt, keine weiteren Informationen</td></tr>\n      </tbody>\n    </table>\n  </mat-card>\n  <br>\n  <hr>\n  <br>\n  <mat-card>\n    <h2>Source Code</h2>\n    <p>Der Code ist <a href="https://github.com/FoseFx/BetterGymWue">in diesem GitHub Repo</a> zu finden</p>\n    <br>\n    <h2>Spenden?</h2>\n    <p>BTC Adresse: <a href="bitcoin:1KN1mKBuacfZaDgPAzd3U78uthSjSY41uQ">1KN1mKBuacfZaDgPAzd3U78uthSjSY41uQ</a><br>\n        Paysafecard Restguthaben:\n        <a href="mailto:fosefx@pm.me?subject=BGW%20Paysafecard%20Spende&body=Hier%20eine%20Paysafecard%20Spende%3A%20%0A%0AHIER%20DEN%20PSC%20CODE%20EINF%C3%9CGEN%0A%0AMfg%0ADEIN%20NAME">\n          fosefx@pm.me\n        </a>\n      <br>\n      <b>Vielen Dank, dass du das Projekt unterstützt!</b>\n    </p>\n    <br>\n  </mat-card>\n\n<hr>\n  <br><br><br>\n  <mat-card>\n\n    <h2>FAQ</h2>\n    <h3>Wer hat das gemacht?</h3>\n    <p><a href="http://fosefx.com/">Ich.</a></p>\n    <div style="clear: left"></div>\n\n    <h3>Gibt es irgendetwas was ich wissen muss?</h3>\n    <p> Die Kurs Cloud wir zu jedem Halbjahr zurückgesetzt.</p>\n    <div style="clear: left"></div>\n\n    <h3>Wie viel mobile Daten werden verbraucht?</h3>\n    <p>Beim ersten laden (inklusive Setup von Kursen etc.) werden in etwa <span class="text-muted">1.6 MB</span> verbraucht. Danach sollten nur etwa <span class="text-muted">40 KB</span> anfallen!</p>\n\n    <div style="clear: left"></div>\n    <h3> Brauch ich ständig internet?</h3>\n    <p>Nein. Für eine Verbindung zu den Vertretungsdaten natürlich schon.</p>\n    <div style="clear: left"></div>\n\n    <h3>Warum nicht die <a>App</a>?</h3>\n    <ul style="margin-left: 3em; margin-right: 3em;">\n      <li>Keine Sicherheitsprobleme (wie hart gecodete Passwörter)</li>\n      <li>Bessere Visuals</li>\n      <li>Multiplatform Support (iOS, Android, Windows[Phones], OsX, Linux, sogar dein f*cking Fernseher)</li>\n      <li>Kurs Cloud</li>\n    </ul>\n    <div style="clear: left"></div>\n\n    <h3>Sind meine Daten sicher?</h3>\n    <p>Ja. Um <a href="https://de.wikipedia.org/wiki/Cross-Origin_Resource_Sharing">CORS</a> Verbote zu umgehen verwende ich ein Proxy Script, welches die angefragten Daten kurz zwischengespeichert. Der Code dafür ist ebenfalls im  <a href="https://github.com/FoseFx/BetterGymWue">Github Repo</a>. <b>Deine in der Kurscloud angegebenen Daten sind es nicht!</b> Das System ist autorisierungsfrei aufgebaut, keine Nutzer, keine Passwörter. Das löschen dieser ist nicht mehr möglich, da es keine Möglichkeit gibt zu Beweisen, dass du die ID registriert hast. (Das überschreiben aber auch nicht).</p>\n\n    <div style="clear: left"></div>\n\n    <h3>Wo werden meine Daten gespeichert?</h3>\n    <p>Ich verwende Firebase Realtime DB um die Kursdaten zu speichern. <b>Ist das nicht unsicher?</b> Nein. Google sagt da: <span class="text-muted">"Neither party will use or disclose the other party\'s Confidential Information without the other\'s prior written consent except for the purpose of performing its obligations under this Agreement or if required by law, regulation or court order; in which case, the party being compelled to disclose Confidential Information will give the other party as much notice as is reasonably practicable prior to disclosing the Confidential Information if permitted by law"</span></p>\n    <div style="clear: left"></div>\n  </mat-card>\n\n  <br><br>\n</mat-card>\n\n'},"./src/app/main/c/about/about.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"AboutComponent",function(){return i});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/base/base.service.ts"),s=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(e){this.base=e,this.up=!1,this.version=this.base.VERSION}return e.prototype.ngOnInit=function(){var e=this;this.base.needsUpdate().then(function(t){e.msg=t,e.up=!0}).catch()},e=s([Object(r.Component)({selector:"app-about",template:n("./src/app/main/c/about/about.component.html"),styles:[n("./src/app/main/c/about/about.component.css"),n("./src/app/main/c/show/ttcontainer/ttcontainer.component.css")]}),o("design:paramtypes",[a.BaseService])],e)}()},"./src/app/main/c/agb/agb.component.html":function(e,t){e.exports='<mat-card id="agb" class="center">\n  <h1 >Wichtige Hinweise</h1>\n  <h4 >Diese Version ist im Beta-Stadium, Fehler sind nicht ausgeschlossen</h4>\n  <hr>\n  <h3>Bedingungen</h3>\n  <p>\n\t\tDer Nutzer muss Schüler oder Angehöriger eines Schülers des Gymnasiums der Stadt Würselen sein.\n\t\tAusgeschlossen sind automatisierte Systeme.\n\t</p>\n\t<h3>Haftung</h3>\n\t<p>\n\t\tFür keine der Angezeigten Informationen wird Haftung übernommen. BGW soll zusätzlich zum normalen Vertetungs- und Stundenplan\n\t\tverwendet werden.\n\t</p>\n  <hr>\n  <h3>Datenschutzerklärung</h3>\n  <button  mat-raised-button *ngIf="!sdse" (click)="sdse = true">Zeige Datenschutzerklärung</button>\n  <div *ngIf="sdse">\n\t\t<p>\n\t\t\tDiese Bestimmung gilt für die Domains "bgw.fosefx.com", "bgw.fosefx.de" und dazugehörig "proxy.fosefx.com" NICHT\n\t\t\t"fosefx.com" oder "www.fosefx.com".\n\t\t</p>\n    <strong>TL;DR</strong>\n\t\t<ul>\n\t\t\t<li>Ich habe Logdaten (IPs, User-Agents, URL etc.)</li>\n\t\t\t<li>Ich habe von dir ausgewählte Daten (Cloud)</li>\n\t\t\t<li>Und oben genanntes hat auch Google und Cloudflare</li>\n\t\t\t<li>Keine Cookies, keine Tracker, keine Werbung</li>\n\t\t</ul>\n\t\t<p>Warum und was genau? Weiter lesen!</p>\n\n\n\t\t<strong>Welche Informationen werden gesammelt? Und warum?</strong>\n\n\t\t<p>\n\t\t\tJede Anfrage, die auf einen Server von mir getätigt wird schickt dein Browser deine angefragte URL\n\t\t\t(bspw. "https://proxy.fosefx.com/v2") gesetzte Cookies (es werden keine Cookies gesetzt) den "User-Agent" und andere Http-Header mit.\n\t\t\tLetzterer ist ein Kurzer Text, der deinen Browser identifiziert\n\t\t\t(bspw. "Mozilla/5.0 (Windows NT 6.1; rv:60.0) Gecko/20100101 Firefox/60.0") ("Logdaten"). Bevor die Anfrage an meinem Server ankommt\n\t\t\tdurchläuft sie Cloudflare (Cloudflare, Inc., 101 Townsend St, San Francisco, CA 94107, USA) Server.\n\t\t\tAll diese Daten werden von mir und Cloudflare analysiert um Risiken für den Server zu erkennen und zu blockieren.\n\t\t\tFür mehr Informationen zu Cloudflare:\n\t\t\t<a href="https://www.cloudflare.com/privacypolicy/">https://www.cloudflare.com/privacypolicy/</a>. Für dich relevant\n\t\t\tsind die "End User" betreffenden Punkte.<br>\n\n\t\t\tDarüber hinaus werden, wenn du zustimmst (Normalfall), Informationen über deine Kurse auf den Servern von\n\t\t\tGoogle (Google LLC, 1600 Amphitheatre Parkway, Mountain View, CA 94043, USA ) für ein Halbjahr gespeichert um\n\t\t\tdie Kurs Cloud zu realisieren.<br>\n\n\t\t\tDiese Seite verwendet Google Fonts, ein Service von Google für Schriftarten. Dafür fragt der Browser bei Servern\n\t\t\tvon Google an und schickt Logdaten mit.<br>\n\n\t\t\tSolltest du das Hilfe Formular verwenden, werden auch diese Daten auf Google Servern gepeichert um sie später dort\n\t\t\taubrufen und verarbeiten zu können.<br>\n\n\t\t\tNebenbei: Bei Kontakt direkt an eine fosefx.com Adresse ("max@fosefx.com", "info@fosefx.com") wird deine Email verschlüsselt\n\t\t\tauf den Servern der Proton Technologies AG (Chemin du Pré-Fleuri, 3 CH-1228 Plan-les-Ouates, Genv, Schweiz)\n\t\t\tgespeichert. Vermutlich auch unverschlüsselt auf Servern deines Email Anbieters.\n\n\t\t</p>\n\n\t\t<strong>Welche Informationen werden NICHT gesammelt?</strong>\n\t\t<p>\n\t\t\t<b>Alles</b> andere.\n\t\t</p>\n\n\t\t<strong>Wie werden diese Daten and dritte weitergegeben?</strong>\n\t\t<p>\n\t\t\tDie oben genannten Anbieter erhalten die Informationen auf sicherem Weg (https/TLS verschlüsselte Verbindung).\n\t\t\tDabei werden die Daten nicht verkauft, sondern dienen nur den oben beschriebenen Gründen.\n\t\t</p>\n\n\t\t<strong>Welche Kontrolle hat ein Nutzer über seine Daten?</strong>\n\t\t<p>\n\t\t\tWenig. Da es keine Mölichkeit gibt zu beweisen, dass jemand zu seinen Daten gehört ist es nicht möglich Daten auf\n\t\t\tAnfrage zu löschen.\n\t\t</p>\n\n\t\t<strong>Wie sicher sind die Daten?</strong>\n\t\t<p>\n\t\t\tAlle bei Google gespeicherten Daten liegen auf Servern, die\n\t\t\t<a href="https://firebase.google.com/downloads/gdpr/2018_Firebase_ISO_27001.pdf">ISO 27001</a>,\n\t\t\t<a href="https://www.aicpa.org/interestareas/frc/assuranceadvisoryservices/aicpasoc1report.html">SOC 1</a>,\n\t\t\t<a href="https://www.aicpa.org/InterestAreas/FRC/AssuranceAdvisoryServices/Pages/AICPASOC2Report.aspx">SOC 2</a>, und\n\t\t\t<a href="https://firebase.google.com/downloads/gdpr/2017_Firebase_SOC3_Report.pdf">SOC 3</a> beständigt sind.\n\n\t\t\tDaten stehen im Falle von Nutzung US-amerikanischer Servern unter dem Schutz des\n\t\t\t<a href="https://www.privacyshield.gov/welcome">Privacyshield Frameworks</a>.\n\t\t\tDies gilt sowohl für Cloudflare als auch Google.\n\n\t\t\tMein Server gehört zu einem Rechenzentrum in Limburg, Deutschland.\n\t\t</p>\n\n\t\t<strong>Änderungen dieser Bedingungen müssen erneut akzeptiert werden.</strong>\n\n\t\t<strong>Ansprechpartner</strong>\n\t\t<p>\n\t\t\tMax Baumann<br><a href="mailto:legal@fosefx.com">legal@fosefx.com</a>\n\t\t</p>\n\n\t</div>\n<hr>\n\n  <p *ngIf="!redirected">\n    <button mat-raised-button (click)="baseService.acceptAGB()" class="big-btn green-btn">Ich akzeptiere</button>\n  </p>\n</mat-card>\n'},"./src/app/main/c/agb/agb.component.scss":function(e,t){e.exports="#agb {\n  margin-top: 10px !important;\n  margin-bottom: 50px !important; }\n\np, ul {\n  width: 80%;\n  margin: 0 auto;\n  text-align: justify; }\n\nh1, h2, h3, h4, strong {\n  text-align: center;\n  width: 100%;\n  display: block; }\n\nstrong {\n  padding-top: 10px;\n  padding-bottom: 10px; }\n\nbutton {\n  display: block;\n  margin: 0 auto !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21heC9Eb2t1bWVudGUvV2ViIFByZ2N0cy9CZXR0ZXJHeW1XdWUvc291cmNlL3NyYy9hcHAvbWFpbi9jL2FnYi9hZ2IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwyQkFBMEI7RUFDMUIsOEJBQTZCLEVBQUE7O0FBRy9CO0VBQ0UsVUFBVTtFQUNWLGNBQWM7RUFDZCxtQkFBbUIsRUFBQTs7QUFFckI7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLGNBQWMsRUFBQTs7QUFHaEI7RUFDRSxpQkFBaUI7RUFDakIsb0JBQW9CLEVBQUE7O0FBR3RCO0VBQ0UsY0FBYztFQUNkLHlCQUF3QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9jL2FnYi9hZ2IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjYWdie1xuICBtYXJnaW4tdG9wOiAxMHB4IWltcG9ydGFudDtcbiAgbWFyZ2luLWJvdHRvbTogNTBweCFpbXBvcnRhbnQ7XG59XG5cbnAsIHVse1xuICB3aWR0aDogODAlO1xuICBtYXJnaW46IDAgYXV0bztcbiAgdGV4dC1hbGlnbjoganVzdGlmeTtcbn1cbmgxLCBoMiwgaDMsIGg0LCBzdHJvbmcge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuc3Ryb25ne1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG59XG5cbmJ1dHRvbntcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMCBhdXRvIWltcG9ydGFudDtcbn1cbiJdfQ== */"},"./src/app/main/c/agb/agb.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"AgbComponent",function(){return i});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/base/base.service.ts"),s=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(e){this.baseService=e,this.sdse=!1}return e.prototype.ngOnInit=function(){this.redirected=this.baseService.acceptedAGB},e=s([Object(r.Component)({selector:"app-agb",template:n("./src/app/main/c/agb/agb.component.html"),styles:[n("./src/app/main/c/agb/agb.component.scss")]}),o("design:paramtypes",[a.BaseService])],e)}()},"./src/app/main/c/cloud/cloud.component.css":function(e,t){e.exports=".container{\n  width: 80%;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9jL2Nsb3VkL2Nsb3VkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFVO0FBQ1oiLCJmaWxlIjoic3JjL2FwcC9tYWluL2MvY2xvdWQvY2xvdWQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJ7XG4gIHdpZHRoOiA4MCU7XG59XG4iXX0= */"},"./src/app/main/c/cloud/cloud.component.html":function(e,t){e.exports='<mat-card *ngIf="baseService.kursID" class="center" style="margin-top: 10px!important; margin-bottom: 50px!important;">\n  <br><br>\n  <h1 class="center">Dein Kurs-Cloud Code:</h1>\n  <h2 class="text-muted center">{{baseService.kursID}}</h2>\n  <br>\n  <p><a [href]="\'https://bettergymwue.firebaseio.com/kurse/\' + baseService.kursID + \'.json?print=pretty\'">API-Link</a></p>\n  <div style="text-align: left">\n    <h3>Konfiguration:</h3>\n    <h3><small class="text-muted">Stufe/Klasse: </small>{{baseService.myStufe}}</h3><br>\n    <table *ngIf="baseService.myKurse.length > 0" class="table table-hover table-sm" style="width: 75%;margin: 0 auto; text-align: center">\n      <tbody>\n      <tr><th>Slot</th><th>Kurs</th><th>Lehrer</th></tr>\n      <tr *ngFor="let kurs of baseService.myKurse">\n        <td>{{kurs.title}}</td>\n        <td>{{kurs.fach}}</td>\n        <td>{{kurs.lehrer}}</td>\n      </tr>\n      </tbody>\n    </table><br>\n    <h2>Wie kann ich das ändern?</h2>\n    <i class="material-icons" style="color: #444; font-size: 40px;float: left;">format_quote</i><p>Gar nicht. Das System ist so aufgebaut, dass jede ID genau einmal gesetzt werden kann und dann nicht mehr bearbeitet werden kann. Dies hat den Vorteil, dass man keine Verifizierung (User/Psw) benötigt. Um dir eine neue ID zu generieren, kannst du deine Kurse löschen und neu eingeben.</p>\n  </div>\n  <a routerLink="/" class="btn btn-link">Home</a>\n  <br>\n  <br>\n  <br>\n</mat-card>\n\n<mat-card *ngIf="!baseService.kursID" class="center" style="margin-top: 10px!important; margin-bottom: 50px!important;">\n  <br>\n  <h1>Kurs Cloud</h1>\n  <p>So wie es aussieht, verwendest du die Kurs-Cloud nicht. Sollte das falsch sein, lösche deine Kurse und gibt deine Kurs Cloud ID\n  im Konfigurationsprozess ein. Wenn du die Kurs Cloud mit deiner aktuellen Konfiguration aktivieren möchtest, kannst du das mit nur einem Klick.\n  Du bekommst dann einen Code, welchen du überall (iOs, Android, Windows, sprich X-Platform) verwenden kannst, um deine Kurse nicht immer neu\n  eingeben zu müssen. Die Kurs-Cloud wird jedes Halbjahr zurückgesetzt.</p>\n\n  <button mat-raised-button color="primary" [ngClass]="{\'disabled\': clicked}" (click)="activateCloud()">Aktiviere Kurs Cloud</button>\n</mat-card>\n'},"./src/app/main/c/cloud/cloud.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CloudComponent",function(){return c});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/base/base.service.ts"),s=n("./src/app/main/s/network/netw.service.ts"),o=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,n){this.baseService=e,this.ntwrkService=t,this.ref=n,this.clicked=!1}return e.prototype.ngOnInit=function(){},e.prototype.activateCloud=function(){var e=this;this.clicked||(this.clicked=!0,this.ntwrkService.saveKurse(this.baseService.myKurse).then(function(t){console.log(t),e.ref.detectChanges()}))},e=o([Object(r.Component)({selector:"app-cloud",template:n("./src/app/main/c/cloud/cloud.component.html"),styles:[n("./src/app/main/c/cloud/cloud.component.css")]}),i("design:paramtypes",[a.BaseService,s.NetwService,r.ChangeDetectorRef])],e)}()},"./src/app/main/c/error/error.component.css":function(e,t){e.exports="\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vYy9lcnJvci9lcnJvci5jb21wb25lbnQuY3NzIn0= */"},"./src/app/main/c/error/error.component.html":function(e,t){e.exports='<br>\n<div class="container" *ngIf="lenght == 0">\n  <h1>Hier ist nichts!</h1>\n  <h2><small class="text-muted">Warum auch immer, aber hier ist nichts!</small></h2>\n  <p><a routerLink="/">Zurück</a></p>\n</div>\n<div class="container" *ngIf="!!route.snapshot.queryParams.oldBrowser">\n  <h1>Dein Browser wird nicht unterstützt!</h1>\n  <h2><small class="text-muted"><a href="https://chrome.google.com">Google Chrome</a></small></h2>\n</div>\n<div class="container" *ngIf="route.snapshot.queryParams.dead">\n  <h1>Diese Version ist Tot.</h1>\n  <h2><small class="text-muted">Diese BGW Version ist funktioniert nicht länger.\n    <br><a style="color: blue" onclick="location.reload()">F5 drücken (oder halt hier, ggf. mehrmals)</a></small></h2>\n</div>\n'},"./src/app/main/c/error/error.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorComponent",function(){return i});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/router/fesm5/router.js"),s=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(e){this.route=e}return Object.defineProperty(e.prototype,"lenght",{get:function(){return Object.keys(this.route.snapshot.queryParams).length},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){console.log(this.route.snapshot.queryParams)},e=s([Object(r.Component)({selector:"app-error",template:n("./src/app/main/c/error/error.component.html"),styles:[n("./src/app/main/c/error/error.component.css")]}),o("design:paramtypes",[a.ActivatedRoute])],e)}()},"./src/app/main/c/login/login.component.css":function(e,t){e.exports="mat-form-field{\n  width: 100%;\n}\nmat-card{\n  width: 95%;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9jL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLFVBQVU7QUFDWiIsImZpbGUiOiJzcmMvYXBwL21haW4vYy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWZvcm0tZmllbGR7XG4gIHdpZHRoOiAxMDAlO1xufVxubWF0LWNhcmR7XG4gIHdpZHRoOiA5NSU7XG59XG4iXX0= */"},"./src/app/main/c/login/login.component.html":function(e,t){e.exports='<div style="height: calc(100vh - 64px); display: flex; align-items: center; justify-content: center; overflow: hidden" *ngIf="show">\n   <mat-card>\n    <mat-card-header>\n      <div mat-card-avatar><mat-icon style="font-size: 3em; color: #444">account_circle</mat-icon></div>\n      <mat-card-title style="text-align: left; margin-left: 15px!important;">Login</mat-card-title>\n      <mat-card-subtitle style="margin-left: 15px!important;">(GymWue Daten)</mat-card-subtitle>\n    </mat-card-header>\n    <mat-card-content>\n\n      <form #loginForm="ngForm" (submit)="formSubmitted()">\n        <p style="width: 20rem" class="text-danger" *ngIf="select.value == \'lehrer\'">Der Lehrer Zugang erweitert den Schüler Zugang und ist nicht eigenständig!</p>\n        <p style="width: 20rem" class="text-danger" *ngIf="select.value == \'lehrer\' && falseLehrerLogin">Kein Schüler Zugang gesetzt!</p>\n        <mat-form-field>\n          <mat-select placeholder="Nutzer" ngModel name="nutzer" required #select>\n            <mat-option value="schueler" [disabled]="!!baseService.credentials">schueler</mat-option>\n            <mat-option value="lehrer" [disabled]="!baseService.credentials">lehrer</mat-option>\n          </mat-select>\n        </mat-form-field><br>\n\n        <mat-form-field\n                        floatLabel="auto">\n          <input matInput type="password" autocomplete="new-password" placeholder="Passwort" style="box-shadow: none" ngModel name="psw" required> \x3c!--style="width: 20rem"--\x3e\n        </mat-form-field>\n        <br>\n        <button mat-raised-button color="accent" [ngClass]="{\'disabled\': !loginForm.valid}">Login</button><span style="color: red" *ngIf="!fine">&nbsp;&nbsp;&nbsp;Das ist nicht richtig.</span>\n      </form>\n\n    </mat-card-content>\n  </mat-card>\n</div>\n'},"./src/app/main/c/login/login.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LoginComponent",function(){return l});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/forms/fesm5/forms.js"),s=n("./src/app/main/s/base/base.service.ts"),o=n("./node_modules/@angular/router/fesm5/router.js"),i=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n){this.baseService=e,this.router=t,this.route=n,this.fine=!0,this.show=!1,this.falseLehrerLogin=!1}return e.prototype.ngOnInit=function(){var e;try{e=!!this.baseService.credentials.l}catch(t){e=!1}this.baseService.credentials&&!this.route.snapshot.queryParams.force||this.route.snapshot.queryParams.force&&e?this.router.navigate(["/select"]):this.show=!0},e.prototype.formSubmitted=function(){if(this.form.valid){var e=this.form.value.nutzer,t=this.form.value.psw;"lehrer"==e?this.baseService.credentials?this.verifyLehrer(e,t):this.falseLehrerLogin=!0:"schueler"==e&&this.verify(e,t)}},e.prototype.verify=function(e,t){var n=this;this.baseService.milchglas=!0,this.baseService.checkCredentials(e,t).then(function(e){n.baseService.milchglas=!1,e?n.router.navigate(["/select"]):n.fine=!1}).catch(function(){n.baseService.milchglas=!1})},e.prototype.verifyLehrer=function(e,t){var n=this;this.baseService.milchglas=!0,this.baseService.checkCredentials(e,t,!0).then(function(e){n.baseService.milchglas=!1,1==e?n.router.navigate(["/select"]):n.fine=!1}).catch(function(){n.baseService.milchglas=!1})},e.prototype.ngAfterViewInit=function(){},i([Object(r.ViewChild)("loginForm"),c("design:type",a.NgForm)],e.prototype,"form",void 0),e=i([Object(r.Component)({selector:"app-login",template:n("./src/app/main/c/login/login.component.html"),styles:[n("./src/app/main/c/login/login.component.css")]}),c("design:paramtypes",[s.BaseService,o.Router,o.ActivatedRoute])],e)}()},"./src/app/main/c/select/kurse/get-from-kurse-modal.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"GetFromKurseModalComponent",function(){return c});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/material/esm5/material.es5.js"),s=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(e,t){return function(n,r){t(n,r,e)}},c=function(){function e(e,t){this.dialogRef=e,this.data=t,this.valid=!1}return e.prototype.onCancelClick=function(){this.dialogRef.close()},e.prototype.onChange=function(e){this.valid=!!this.data.id&&(4===this.data.id.toString().length&&!isNaN(+this.data.id)),"Enter"===e.key&&this.valid&&this.dialogRef.close(this.data)},e=s([Object(r.Component)({selector:"app-get-from-kurse-modal",template:'\n    <style>\n      .center { display: block; margin: 0 auto;}\n    </style>\n    <h1 mat-dialog-title class="center">Kurs Cloud</h1>\n    <div mat-dialog-content class="center" style="padding: 10px 0 0 0">\n      <p *ngIf="!!data.failMsg" class="text-danger"><b>{{data.failMsg}}</b></p>\n      <mat-form-field style="width: 100%; overflow-x: hidden">\n        <input \n          (keyup)="onChange($event)" \n          cdkFocusInitial \n          type="tel" \n          minlength="4" \n          maxlength="4" \n          placeholder="Kurs-Cloud ID" \n          matInput\n          [(ngModel)]="data.id">\n        \n      </mat-form-field>\n    </div>\n    <div mat-dialog-actions class="center" style="text-align: right; padding-bottom: 2px">\n      <button mat-button (click)="onCancelClick()">Schließen</button>\n      <button mat-button [mat-dialog-close]="data" [disabled]="!valid">Ok</button>\n    </div>\n\n  '}),i(1,Object(r.Inject)(a.MAT_DIALOG_DATA)),o("design:paramtypes",[a.MatDialogRef,Object])],e)}()},"./src/app/main/c/select/kurse/kurse.component.css":function(e,t){e.exports=".kurs{\n  width: 7em;\n  height: 7em;\n  overflow: hidden;\n  margin: 2px;\n}\n.top{\n  position: absolute;\n  top: 2px;\n  left: 10px;\n}\n.btm{\n  position: absolute;\n  bottom: 2px;\n  right: 10px;\n}\n.mdl {\n  font-weight: bold;\n}\n.btn > span {\n  display: block;\n  width: 4rem;\n}\n.btn{\n  transition: background 0.5s ease!important;\n}\n.kurs-container{\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.newLineBefore{\n  flex-basis: 100%;\n  opacity: 0;\n  cursor: initial!important;\n  display: block;\n  height: 4em;\n}\n.btn-success{\n  color: white!important;\n  background-color: green;\n}\n.ok{\n  color: green;\n  font-weight: normal;\n}\n.tooMuch{\n  color: red;\n  font-weight: bold;\n}\n.notSelected{\n  color: #444;\n  font-style: italic;\n}\n.form-check-label{\n  cursor: pointer;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9jL3NlbGVjdC9rdXJzZS9rdXJzZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBVTtFQUNWLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsV0FBVztBQUNiO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFVBQVU7QUFDWjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxXQUFXO0FBQ2I7QUFDQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsY0FBYztFQUNkLFdBQVc7QUFDYjtBQUNBO0VBQ0UsMENBQTBDO0FBQzVDO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLHVCQUF1QjtBQUN6QjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVix5QkFBeUI7RUFDekIsY0FBYztFQUNkLFdBQVc7QUFDYjtBQUNBO0VBQ0Usc0JBQXNCO0VBQ3RCLHVCQUF1QjtBQUN6QjtBQUNBO0VBQ0UsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UsVUFBVTtFQUNWLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsZUFBZTtBQUNqQiIsImZpbGUiOiJzcmMvYXBwL21haW4vYy9zZWxlY3Qva3Vyc2Uva3Vyc2UuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5rdXJze1xuICB3aWR0aDogN2VtO1xuICBoZWlnaHQ6IDdlbTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWFyZ2luOiAycHg7XG59XG4udG9we1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMnB4O1xuICBsZWZ0OiAxMHB4O1xufVxuLmJ0bXtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDJweDtcbiAgcmlnaHQ6IDEwcHg7XG59XG4ubWRsIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4uYnRuID4gc3BhbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogNHJlbTtcbn1cbi5idG57XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC41cyBlYXNlIWltcG9ydGFudDtcbn1cbi5rdXJzLWNvbnRhaW5lcntcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbi5uZXdMaW5lQmVmb3Jle1xuICBmbGV4LWJhc2lzOiAxMDAlO1xuICBvcGFjaXR5OiAwO1xuICBjdXJzb3I6IGluaXRpYWwhaW1wb3J0YW50O1xuICBkaXNwbGF5OiBibG9jaztcbiAgaGVpZ2h0OiA0ZW07XG59XG4uYnRuLXN1Y2Nlc3N7XG4gIGNvbG9yOiB3aGl0ZSFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xufVxuLm9re1xuICBjb2xvcjogZ3JlZW47XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG4udG9vTXVjaHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4ubm90U2VsZWN0ZWR7XG4gIGNvbG9yOiAjNDQ0O1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG4uZm9ybS1jaGVjay1sYWJlbHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuIl19 */"},"./src/app/main/c/select/kurse/kurse.component.html":function(e,t){e.exports='<mat-card class="center"\n     [ngClass]="{\'border-primary\': !valid, \'border-success\': valid}"\n     style="max-width: 55em; margin-top: 10px; padding-bottom: 150px">\n  <h1 mat-card-title>Kurse für <b>{{_stufe }}</b></h1>\n  <h4 mat-card-subtitle>Wähle deine Kurse:</h4>\n\n  <div mat-card-content>\n    <hr>\n    <button mat-raised-button (click)="openGetFromKurseModal()">\n      Von Cloud laden\n    </button>\n    <hr>\n\n    <div class="kurs-container">\n        <button mat-raised-button class="btn kurs"\n                *ngFor="let k of stufeKurse; let i = index;"\n                [ngClass]="{\'btn-light\': !k.selected, \'btn-success\': k.selected, \'newLineBefore\': k.ph === true}"\n                (click)="kursSelected(k)"\n        >\n          <span class="top">{{k.title}}</span>\n          <span class="mdl">{{k.fach}}</span>\n          <span class="btm">{{k.lehrer}}</span>\n        </button>\n\n    </div>\n    <hr>\n\n    <h5 style="text-align: center;">\n      <span *ngFor="let t of titles; let i = index;"\n            [ngClass]="{\'notSelected\': t.state < 1,\'ok\': t.state === 1,\'tooMuch\': t.state > 1}"\n            style="margin-right: 5px; display: inline-block;">{{t.t}}</span>\n    </h5>\n\n    <mat-slide-toggle style="text-align: center!important; display: block!important; margin: 0 auto!important; width: 230px" [(ngModel)]="cloud">Auf Kurs Cloud speichern</mat-slide-toggle>\n\n    <br>\n    <button mat-raised-button color="primary"\n            [ngClass]="{\'disabled\': !valid, \'center\': true}"\n            (click)="kursSubmit()">Fertig!</button><br>\n\n\n  </div>\n</mat-card>\n\n'},"./src/app/main/c/select/kurse/kurse.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"KurseComponent",function(){return p});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/network/netw.service.ts"),s=n("./src/app/main/s/alert.service.ts"),o=n("./src/app/main/s/base/base.service.ts"),i=n("./node_modules/@angular/router/fesm5/router.js"),c=n("./node_modules/@angular/material/esm5/material.es5.js"),l=n("./src/app/main/c/select/kurse/get-from-kurse-modal.component.ts"),u=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n,r,a,s){this.netwService=e,this.alert=t,this.baseService=n,this.route=r,this.router=a,this.dialog=s,this.titles=[],this.valid=!1,this._cloud=!0}return Object.defineProperty(e.prototype,"cloud",{get:function(){return this._cloud},set:function(e){this._cloud=e,console.log(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stufe",{set:function(e){var t=this;this._stufe=e,e&&(this.stufeKurse=void 0,this.kurse||(this.kurse=[]),this.kurse.forEach(function(n){n.stufe===e&&(t.stufeKurse=n.kurse,t.titles=n.titles)}),this.stufeKurse||(this.baseService.milchglas=!0,this.netwService.stufen.then(function(e){var n=e.findIndex(function(e){return e===t._stufe});t.netwService.getkurse(t._stufe,n+1).then(function(e){var n=JSON.parse(JSON.stringify(e));n.sort(function(e,t){return e.title>t.title?1:e.title<t.title?-1:0});var r=[],a=[];n.forEach(function(e,t){-1===r.indexOf(e.title)&&(r.push(e.title),a.push([t,{title:e.title,fach:e.title,lehrer:"",ph:!0}]),a.push([t,{title:e.title,fach:"FREI",lehrer:""}]))}),a.forEach(function(e){n.splice(e[0],0,e[1]),a.forEach(function(e){e[0]++})}),t.titles=r.map(function(e){return{t:e,state:0}}),t.kurse.push({stufe:t._stufe,kurse:n,titles:t.titles}),t.stufeKurse=n,t.baseService.milchglas=!1}).catch(function(e){t.baseService.milchglas=!1,t.alert.alert(e,t.alert.DANGER)})})))},enumerable:!0,configurable:!0}),e.prototype.kursSelected=function(e){if(!e.ph){e.selected=!e.selected;var t=0;this.titles.forEach(function(n){n.t===e.title&&(e.selected?n.state++:n.state--),1===n.state&&t++}),this.valid=t===this.titles.length}},e.prototype.kursSubmit=function(){var e=this;if(this.valid){this.baseService.milchglas=!0;var t=[];this.stufeKurse.forEach(function(e){e.selected&&!e.ph&&t.push({title:e.title,fach:e.fach,lehrer:e.lehrer})}),this.baseService.MyKurse=t,console.log(t),!0===this._cloud&&this.netwService.saveKurse(t).then(function(t){e.alert.alert("Dein Kurs-Cloud Code: "+t+". Merken!",e.alert.OK,1e4)}).catch(function(e){console.log(e.statusText)}),this.baseService.setTT(this.netwService.getTT(this._stufe)),this.baseService.milchglas=!1,this.router.navigate(["show"])}},e.prototype.loadFromCloud=function(e){var t=this;if(!e)return this.openGetFromKurseModal({failMsg:"Keine ID eingegeben"});this.baseService.milchglas=!0,this.netwService.fetchCloud(e).then(function(n){t.baseService.MyKurse=n,t.baseService.setTT(t.netwService.getTT(t._stufe)),t.baseService.kursID=e,t.baseService.milchglas=!1,t.router.navigate(["show"])}).catch(function(e){t.baseService.milchglas=!1,t.openGetFromKurseModal({failMsg:e.statusText})})},e.prototype.openGetFromKurseModal=function(e){var t=this;void 0===e&&(e={}),this.dialog.open(l.GetFromKurseModalComponent,{width:"90%",maxWidth:"400px",data:e}).afterClosed().subscribe(function(n){n&&t.loadFromCloud(e.id)})},u([Object(r.Input)(),d("design:type",String),d("design:paramtypes",[String])],e.prototype,"stufe",null),e=u([Object(r.Component)({selector:"app-kurse",template:n("./src/app/main/c/select/kurse/kurse.component.html"),styles:[n("./src/app/main/c/select/kurse/kurse.component.css")]}),d("design:paramtypes",[a.NetwService,s.AlertService,o.BaseService,i.ActivatedRoute,i.Router,c.MatDialog])],e)}()},"./src/app/main/c/select/select.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SelectComponent",function(){return c});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/router/fesm5/router.js"),s=n("./src/app/main/s/base/base.service.ts"),o=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,n){this.route=e,this.baseService=t,this.router=n,this.show=!1}return e.prototype.ngOnInit=function(){this.route.snapshot.queryParams.force?this.show=!0:this.baseService.myKurse&&this.baseService.myStufe&&this.baseService.myStufeID?this.router.navigate(["show"]):this.show=!0},e=o([Object(r.Component)({selector:"app-select",template:'<app-stufe *ngIf="show"></app-stufe>'}),i("design:paramtypes",[a.ActivatedRoute,s.BaseService,a.Router])],e)}()},"./src/app/main/c/select/stufe/stufe.component.css":function(e,t){e.exports="\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vYy9zZWxlY3Qvc3R1ZmUvc3R1ZmUuY29tcG9uZW50LmNzcyJ9 */"},"./src/app/main/c/select/stufe/stufe.component.html":function(e,t){e.exports='<mat-card style="max-width: 50em; margin: 0 auto; margin-top: 50px;"\n      [ngClass]="{\'border-light\': selectedValue !== tempSelectedValue}">\n  <div class="card-header">Stufe</div>\n  <div class="card-body">\n    <h4 class="card-title">Wähle deine Stufe/Klasse aus:</h4>\n    <p class="card-text">\n\n      <mat-form-field style="width: 100%">\n        <mat-select [(ngModel)]="tempSelectedValue">\n          <mat-option *ngFor="let s of stufen; let i = index;" [value]="s">{{s}}</mat-option>\n        </mat-select>\n      </mat-form-field>\n      <button style="margin-top: 5px" mat-raised-button [color]="tempSelectedValue === selectedValue? \'\': \'primary\'"\n              [ngClass]="{\'disabled\': tempSelectedValue.length === 0}"\n              (click)="setValue()">Weiter</button>\n    </p>\n  </div>\n</mat-card>\n<app-kurse [stufe]="selectedValue"\n           style="width: 100%; transition: opacity 0.5s ease;"\n           [ngClass]="{\'invisible\': !selectedValue}"\n></app-kurse>\n'},"./src/app/main/c/select/stufe/stufe.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"StufeComponent",function(){return c});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/network/netw.service.ts"),s=n("./src/app/main/s/base/base.service.ts"),o=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.netwService=e,this.baseService=t,this.stufen=[],this.tempSelectedValue=""}return e.prototype.ngOnInit=function(){var e=this;this.netwService.stufen.then(function(t){e.stufen=t}),console.log(this.stufen)},e.prototype.setValue=function(){this.selectedValue=this.tempSelectedValue,this.baseService.MyStufe=[this.selectedValue,(this.stufen.indexOf(this.selectedValue)+1).toString()]},e=o([Object(r.Component)({selector:"app-stufe",template:n("./src/app/main/c/select/stufe/stufe.component.html"),styles:[n("./src/app/main/c/select/stufe/stufe.component.css")]}),i("design:paramtypes",[a.NetwService,s.BaseService])],e)}()},"./src/app/main/c/show/show.component.css":function(e,t){e.exports=".full{\n  width: 100%;\n  display: block;\n  overflow: auto;\n}\n.hidden{\n  display: none;\n}\n.container{\n  width: 90%!important;\n  max-width: 750px!important;\n  margin: 1% auto 0;\n}\n@media (max-width: 350px){\n  .container{\n    width: 100%!important;\n  }\n}\n.buttons{\n  font-size: 100px;\n  position: fixed;\n  bottom: 10px;\n  cursor: pointer;\n  transition: opacity;\n}\n.fuckYou{\n  min-height: calc(100vh - 66px);\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9jL3Nob3cvc2hvdy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztFQUNYLGNBQWM7RUFDZCxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLG9CQUFvQjtFQUNwQiwwQkFBMEI7RUFDMUIsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRTtJQUNFLHFCQUFxQjtFQUN2QjtBQUNGO0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLFlBQVk7RUFDWixlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSw4QkFBOEI7QUFDaEMiLCJmaWxlIjoic3JjL2FwcC9tYWluL2Mvc2hvdy9zaG93LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZnVsbHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBvdmVyZmxvdzogYXV0bztcbn1cbi5oaWRkZW57XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uY29udGFpbmVye1xuICB3aWR0aDogOTAlIWltcG9ydGFudDtcbiAgbWF4LXdpZHRoOiA3NTBweCFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMSUgYXV0byAwO1xufVxuQG1lZGlhIChtYXgtd2lkdGg6IDM1MHB4KXtcbiAgLmNvbnRhaW5lcntcbiAgICB3aWR0aDogMTAwJSFpbXBvcnRhbnQ7XG4gIH1cbn1cblxuLmJ1dHRvbnN7XG4gIGZvbnQtc2l6ZTogMTAwcHg7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAxMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IG9wYWNpdHk7XG59XG4uZnVja1lvdXtcbiAgbWluLWhlaWdodDogY2FsYygxMDB2aCAtIDY2cHgpO1xufVxuIl19 */"},"./src/app/main/c/show/show.component.html":function(e,t){e.exports='<div class="full">\n\n  <div class="container">\n\n    <div *ngIf="baseService.ferien">\n      <br><br><br>\n      <h1>Es sind Ferien, was tust du hier?</h1>\n      <h2><small class="text-muted">Der Unterricht beginnt wieder am {{baseService.ferienEndsOn}}.</small></h2>\n      <h3><small class="text-muted">Die Kurs Cloud wird am Tag davor zurückgesetzt.</small></h3>\n    </div>\n\n    <mat-tab-group *ngIf="!baseService.ferien" class="fuckYou" [selectedIndex]="baseService.selectedTab"\n                   (swipeleft)="swipe($event)"\n                   (swiperight)="swipe($event)"\n                   (selectChange)="change($event)">\n      <mat-tab *ngFor="let tt of tts; let i = index;" [label]="tt.date | date: \'E\' : \'de\' ">\n        <show-ttcontainer [tt]="tt" [index]="i"></show-ttcontainer>\n      </mat-tab>\n    </mat-tab-group>\n\n  </div>\n\n</div>\n'},"./src/app/main/c/show/show.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ShowComponent",function(){return l});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/base/base.service.ts"),s=n("./src/app/main/s/alert.service.ts"),o=n("./node_modules/@angular/material/esm5/material.es5.js"),i=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.baseService=e,this.alert=t,this.tts=[],this.tab_num=0,this.SWIPE_ACTION={LEFT:"swipeleft",RIGHT:"swiperight"}}return e.prototype.ngAfterViewInit=function(){this.baseService.noswipe=!0,this.tab_num=this.tabs.length,localStorage.firstVisit||(localStorage.firstVisit="false",location.reload())},e.prototype.swipe=function(e){var t=e.type;t===this.SWIPE_ACTION.RIGHT&&this.baseService.selectedTab>0?this.baseService.selectedTab--:t===this.SWIPE_ACTION.LEFT&&this.baseService.selectedTab<this.tab_num-1&&this.baseService.selectedTab++},e.prototype.ngOnInit=function(){var e,t=this,n=this.baseService.TT;n?[0,1].forEach(function(r,a){var s=new Date;for(1===a&&s.setDate(s.getDate()+1);0===s.getDay()||6===s.getDay();)s.setDate(s.getDate()+1);0==a&&(e=s),1===a&&e.getDate()==s.getDate()&&s.setDate(s.getDate()+1);var o=n[function(e){(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))).setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-t)/864e5+1)/7)}(s)%2==0?0:1];t.tts.push({tag:o.days[s.getDay()-1],date:s})}):this.alert.alert("Kein Stundenplan gesetzt",this.alert.DANGER)},e.prototype.change=function(e){this.baseService.selectedTab=e.index},i([Object(r.ViewChild)(o.MatTabGroup),c("design:type",Object)],e.prototype,"group",void 0),i([Object(r.ViewChildren)(o.MatTab),c("design:type",Object)],e.prototype,"tabs",void 0),e=i([Object(r.Component)({selector:"app-show",template:n("./src/app/main/c/show/show.component.html"),styles:[n("./src/app/main/c/show/show.component.css")]}),c("design:paramtypes",[a.BaseService,s.AlertService])],e)}()},"./src/app/main/c/show/ttcontainer/ttcontainer.component.css":function(e,t){e.exports=".table{\n  text-align: center!important;\n}\n.entfall{\n  color: red;\n  font-weight: bold;\n}\n.vertretung{\n  color: lightgreen;\n  font-weight: bold;\n}\n.raumV{\n  color: goldenrod;\n}\n.btmtbl{\n  margin-bottom: 30px;\n}\n.klausur{\n  color: blue!important;\n  font-style: oblique!important;\n}\n.uncertain{\n  color: grey;\n  font-style: italic;\n}\n.bold{\n  font-weight: bold;\n}\n.schulplaner{\n  font-style: italic;\n  background: rgba(255, 255, 0, 0.2);\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9jL3Nob3cvdHRjb250YWluZXIvdHRjb250YWluZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDRCQUE0QjtBQUM5QjtBQUNBO0VBQ0UsVUFBVTtFQUNWLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7QUFDQTtFQUNFLHFCQUFxQjtFQUNyQiw2QkFBNkI7QUFDL0I7QUFDQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7QUFDcEI7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGtDQUFrQztBQUNwQyIsImZpbGUiOiJzcmMvYXBwL21haW4vYy9zaG93L3R0Y29udGFpbmVyL3R0Y29udGFpbmVyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGFibGV7XG4gIHRleHQtYWxpZ246IGNlbnRlciFpbXBvcnRhbnQ7XG59XG4uZW50ZmFsbHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4udmVydHJldHVuZ3tcbiAgY29sb3I6IGxpZ2h0Z3JlZW47XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuLnJhdW1We1xuICBjb2xvcjogZ29sZGVucm9kO1xufVxuLmJ0bXRibHtcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcbn1cbi5rbGF1c3Vye1xuICBjb2xvcjogYmx1ZSFpbXBvcnRhbnQ7XG4gIGZvbnQtc3R5bGU6IG9ibGlxdWUhaW1wb3J0YW50O1xufVxuLnVuY2VydGFpbntcbiAgY29sb3I6IGdyZXk7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cblxuLmJvbGR7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuLnNjaHVscGxhbmVye1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDAsIDAuMik7XG59XG4iXX0= */"},"./src/app/main/c/show/ttcontainer/ttcontainer.component.html":function(e,t){e.exports='<div class="container" style="text-align: left;">\n  <h1 class="text-right">{{(_tt.date | date: \'E dd.M.yy\')}}</h1>\n  <p class="lead text-right">{{woche(_tt.date | date: \'w\')}}-Woche</p>\n  <button mat-button (click)="reload()"><i class="material-icons">refresh</i></button>\n  <table class="table table-hover">\n    <tbody>\n\n    <ng-container *ngFor="let stunde of displayArray; let i = index">\n      <tr *ngIf="stunde != undefined && !stunde.nd" [ngClass]="{\n        \'entfall\': (!!stunde.VD.type) ? stunde.VD.type[0] === \'e\': false,\n        \'vertretung\': stunde.VD.type === \'v\',\n        \'raumV\': stunde.VD.type === \'r\',\n        \'klausur\': stunde.VD.type === \'k\',\n        \'uncertain\': stunde.VD.type === \'fehlt\'\n      }">\n\n        <td>{{i + 1}}</td>\n\n        <td *ngIf="stunde.isFreistunde" colspan="3">Frei</td>\n\n        <ng-container *ngIf="!stunde.isFreistunde">\n          <td>{{stunde.fach}}</td>\n          <td [ngClass]="{\'bold\': !!stunde.VD.newRaum}">{{ !!stunde.VD.newRaum? stunde.VD.newRaum: stunde.raum}}</td>\n          <td [ngClass]="{\'bold\': !!stunde.VD.lehrer}">{{stunde.VD.lehrer? stunde.VD.lehrer: stunde.lehrer}}</td>\n        </ng-container>\n\n\n      </tr>\n    </ng-container>\n\n\n    </tbody>\n  </table>\n  <br>\n  <h2><small class="text-muted" *ngIf="!(online | async) && backUpVdSet">{{\'Alte Version von \' + (offlineDate | date: \'HH:mm\') + \' Uhr am \' + (offlineDate | date: \'dd.MM.\')}}</small></h2>\n  <h3 *ngIf="info.length > 0">Info:</h3>\n  <table *ngIf="info.length > 0" class="table table-sm">\n    <tbody>\n    <tr *ngFor="let inf of info">\n      <td [ngClass]="{\'bold\':inf.toLowerCase().indexOf(\'<b>\') != -1,\'schulplaner\': inf.indexOf(\'SCHULPLANER_INFO\') != -1}">\n        {{ unHTML(inf.replace("SCHULPLANER_INFO", "")) }}\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <br>\n\n    <h2 style="display: inline-block">{{baseService.myStufe + ": "}} &nbsp; </h2>\n    <h4 style="display: inline-block">\n      <span><mat-slide-toggle *ngIf="baseService.credentials.l && (online | async)" [(ngModel)]="preLehrer">Lehrer</mat-slide-toggle></span>\n      <span><mat-slide-toggle *ngIf="baseService.credentials.l && !(online | async)" disabled [checked]="offlinepreLehrer">Lehrer</mat-slide-toggle></span>\n    </h4>\n  <h2 *ngIf="VDStufe.length == 0" class="light center"><small>Leider nichts</small></h2>\n\n  <table *ngIf="VDStufe.length > 0" class="table table-sm btmtbl">\n    <tbody>\n    <tr><th>St.</th><th>Kurs</th><th>Typ</th><th>Raum</th><th *ngIf="(baseService.credentials.l && baseService.preLehrer)">Lehrer</th><th>Info</th></tr>\n    <tr *ngFor="let v of VDStufe;">\n      <td *ngIf="v.nd"><b>{{v.stunde}}</b></td>\n      <td *ngIf="v.nd">{{v.fach}}</td>\n\n      <td *ngIf="v.nd">\n        <b>{{v.type.toUpperCase()}}</b>\n      </td>\n\n      <td *ngIf="v.nd">{{v.newRaum}}</td>\n      <td *ngIf="v.nd && (baseService.credentials.l && baseService.preLehrer)">{{v.lehrer}}</td>\n      <td *ngIf="v.nd">{{v.info}}</td>\n    </tr>\n    </tbody>\n\n  </table>\n  <br>\n</div>\n'},"./src/app/main/c/show/ttcontainer/ttcontainer.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TtcontainerComponent",function(){return m});var r=n("./node_modules/rxjs/_esm5/index.js"),a=n("./node_modules/rxjs/_esm5/operators/index.js"),s=n("./node_modules/@angular/core/fesm5/core.js"),o=n("./src/app/main/s/base/base.service.ts"),i=n("./src/app/main/s/network/netw.service.ts"),c=n("./node_modules/@angular/router/fesm5/router.js"),l=n("./src/app/Classes.ts"),u=n("./src/app/main/c/show/ttcontainer/util/evaVertretung.ts"),d=n("./src/app/main/c/show/ttcontainer/util/addVDtoDisplayArray.ts"),p=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function e(e,t,n){var s=this;this.baseService=e,this.netwService=t,this.router=n,this.info=[],this.displayArray=[],this.VDStufe=[],this.VDMe=[],this.setted=!1,this.offlinepreLehrer=!1,this.backUpVdSet=!1,this.domParser=new DOMParser,this.evaVertretung=function(e){return Object(u.evaVertretung)(e,s)},this.addVDtoDisplayArray=function(){return Object(d.addVDtoDisplayArray)(s.VDMe,s.displayArray,s)},this.online=Object(r.merge)(Object(r.of)(navigator.onLine),Object(r.fromEvent)(window,"online").pipe(Object(a.mapTo)(!0)),Object(r.fromEvent)(window,"offline").pipe(Object(a.mapTo)(!1)))}return Object.defineProperty(e.prototype,"tt",{set:function(e){this.setted||(this.setted=!0,this._tt=e,this.filterVisible(),this.readableDate=this._tt.date.getDate()+"."+(this._tt.date.getMonth()+1)+".")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{set:function(e){this._index=e},enumerable:!0,configurable:!0}),e.prototype.filterVisible=function(){var e=this;this._tt.tag.forEach(function(t,n){if("klasse"===t.type)e.displayArray[n]={fach:t.fach,lehrer:t.lehrer,raum:t.raum};else if("kurs"===t.type){var r=void 0;if(e.baseService.myKurse.forEach(function(e){e.title==t.fach&&(r=e)}),!r)return;var a="---";t.raeume.forEach(function(e){e.kurs==r.fach&&(a=e.raum)}),e.displayArray[n]={fach:r.fach,raum:a,lehrer:r.lehrer,isFreistunde:"---"==a}}}),this.displayArray.forEach(function(e){e.VD={}}),console.log("displayArray",this.displayArray)},e.prototype.checkVertretung=function(){var e=this;this.baseService.milchglas=!0,this.netwService.getVertretungsDaten(this.readableDate,this._index).then(function(t){e.evaVertretung(t),e.baseService.setLastVD(e._index,t,e.baseService.preLehrer),e.baseService.milchglas=!1}).catch(function(){e.baseService.milchglas=!1})},e.prototype.unHTML=function(e){return-1!=e.indexOf("<")?this.domParser.parseFromString(e,"text/html").getElementsByTagName("html")[0].textContent.trim():e},e.prototype.reload=function(){this.onlineSub.unsubscribe(),this.ngAfterViewInit()},e.prototype.ngAfterViewInit=function(){var e=this;this.onlineSub=this.online.subscribe(function(t){e.info=[],t?(e.netwService.getSchulplanerInfo(e.readableDate).then(function(t){t.forEach(function(e,n){t[n]+="SCHULPLANER_INFO"}),e.info=e.info.concat(t)}),e.checkVertretung()):e.getVDfromCache()})},e.prototype.getVDfromCache=function(){if(this.VDStufe=[],this.VDMe=[],localStorage.lastVD){var e=JSON.parse(localStorage.lastVD);this.offlineDate=new Date(e.d),e.w[this._index]&&(this.backUpVdSet=!0,this.offlinepreLehrer=e.lehrer,this.evaVertretung(e.w[this._index]))}},Object.defineProperty(e.prototype,"preLehrer",{get:function(){return this.baseService.preLehrer},set:function(e){var t=this;this.baseService.preLehrer=e,setTimeout(function(){t.router.navigate(["/"])},20)},enumerable:!0,configurable:!0}),e.prototype.woche=function(e){return+e%2==0?"A":"B"},p([Object(s.Input)(),f("design:type",l.TimeTable),f("design:paramtypes",[l.TimeTable])],e.prototype,"tt",null),p([Object(s.Input)(),f("design:type",Number),f("design:paramtypes",[Number])],e.prototype,"index",null),e=p([Object(s.Component)({selector:"show-ttcontainer",template:n("./src/app/main/c/show/ttcontainer/ttcontainer.component.html"),styles:[n("./src/app/main/c/show/ttcontainer/ttcontainer.component.css")]}),f("design:paramtypes",[o.BaseService,i.NetwService,c.Router])],e)}()},"./src/app/main/c/show/ttcontainer/util/addVDtoDisplayArray.ts":function(e,t,n){"use strict";function r(e,t,n){var r=["k","e (v)","e","v","r"];if(0!==e.length){var a=e.filter(function(e){return("k"!==e.type.toLowerCase()||"k"===e.type.toLowerCase()&&function(e,t){if("k"!==e.type.toLowerCase())return!1;var n=e.info,r=!1;return t.baseService.myKurse.forEach(function(e){-1!=n.indexOf(e.fach.toUpperCase())&&(r=!0)}),r}(e,n))&&!e.nd&&-1!==r.findIndex(function(t){return t===e.type})});if(console.log("been here",a),0!==a.length){var s=[];a.forEach(function(e){if(s[+e.stunde-1]){var t=r.findIndex(function(t){return s[+e.stunde-1].type.toLowerCase()===t}),n=r.findIndex(function(t){return e.type.toLowerCase()===t});t>=n&&-1!==t&&-1!==n&&(s[+e.stunde-1]=e)}else s[+e.stunde-1]=e}),console.log("stunden",s);for(var o=0;o<t.length;o++)t[o]&&(t[o].VD=s[o]?s[o]:{});console.log("displayArray new",t)}}}n.r(t),n.d(t,"addVDtoDisplayArray",function(){return r})},"./src/app/main/c/show/ttcontainer/util/evaVertretung.ts":function(e,t,n){"use strict";function r(e,t){console.log("w",e);var n=void 0;for(var r in e[1])r==t.baseService.myStufe&&(n=e[1][r]);if(n){var a=[];n.forEach(function(e){if(e.date===t.readableDate){if("---"==e.fach&&"-----"==e.lehrer&&""==e.info.replace(" ",""))return;a.push(e)}});var s=[];a.forEach(function(e){if(e.date==t.readableDate){t.baseService.myKurse.forEach(function(t){t.fach==e.fach&&s.push(e)}),t.baseService.KlassenKurse.forEach(function(t){t==e.fach&&s.push(e)});try{/^\s+$/.test(e.fach)&&s.push(e)}catch(e){}void 0==e.fach&&s.push(e)}});try{t.info=t.info.concat(Array.from(e[0][0]))}catch(e){console.log(e.message)}t.VDStufe=a,t.VDMe=s,console.log("VDMe",t.VDMe),t.addVDtoDisplayArray()}}n.r(t),n.d(t,"evaVertretung",function(){return r})},"./src/app/main/c/stundenplan/stundenplan.component.css":function(e,t){e.exports="\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vYy9zdHVuZGVucGxhbi9zdHVuZGVucGxhbi5jb21wb25lbnQuY3NzIn0= */"},"./src/app/main/c/stundenplan/stundenplan.component.html":function(e,t){e.exports='\n<mat-card class="center" style="margin-bottom: 50px!important;margin-top: 10px!important;">\n  <mat-tab-group style="width: 100%!important;" [selectedIndex]="selectedIndex" (selectChange)="resetDay()">\n\n    <mat-tab *ngFor="let woche of tts" [label]="woche.woche">\n\n\n      <mat-tab-group class="small-tabs" style="width: 100%!important;" [selectedIndex]="selectedDay" >\n\n        <mat-tab *ngFor="let tag of woche.tt; let i = index" [label]="TAGE[i]">\n          <br><br>\n          <table class="table table-hover text-center">\n            <tbody>\n            <ng-container *ngFor="let stunde of tag; let stundei = index">\n              <tr *ngIf="!stunde[0].isDouble">\n                <td>{{ (stundei + 1) }}<span *ngIf="stunde[0].hasDouble">{{\'/\' + (stundei + 2) }}</span></td>\n                <td *ngFor="let fach of stunde">\n                  <span [ngClass]="{\'font-weight-bold\': fach.sel}">{{fach.fach}}</span><br>\n                  <span [ngClass]="{\'font-weight-bold\': fach.sel}">{{fach.raum}}</span>\n                </td>\n              </tr>\n            </ng-container>\n\n            </tbody>\n          </table>\n\n        </mat-tab>\n\n\n      </mat-tab-group>\n\n\n\n    </mat-tab>\n\n\n  </mat-tab-group>\n</mat-card>\n'},"./src/app/main/c/stundenplan/stundenplan.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"StundenplanComponent",function(){return l});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/base/base.service.ts"),s=n("./src/app/main/s/alert.service.ts"),o=n("./node_modules/@angular/common/fesm5/common.js"),i=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.baseService=e,this.alert=t,this.TAGE=["Mo","Di","Mi","Do","Fr"],this.tts=[],this.selectedDay=0,this.d=new Date,this.selectedIndex=+Object(o.formatDate)(this.d,"w","de")%2==0?0:1}return e.prototype.ngOnInit=function(){var e=this,t=this.baseService.TT;t?(t.forEach(function(t,n){var r={woche:n%2==0?"A":"B",tt:[]};t.days.forEach(function(t){var n=[];t.forEach(function(t,r){if("klasse"==t.type){var a=n[n.length-1],s=!1;a&&(s=a[0].fach===t.fach&&a[0].raum===t.raum),s&&(n[n.length-1][0].hasDouble=!0),n.push([{fach:t.fach,raum:t.raum,sel:!0,isDouble:s}])}else{var o=[];if(!t.raeume)return void n.push([{fach:"Pause",raum:"",sel:!0}]);t.raeume.forEach(function(t){o.push({fach:t.kurs,raum:t.raum,sel:-1!=e.getPos(t.kurs)})});s=!1;if(r>0){for(var i,c=1;void 0===i&&11!==c;)i=n[r-c],c++;(s=o.some(function(e){return!!i.find(function(t){return t.fach===e.fach&&t.raum===e.raum&&t.sel===e.sel})}))&&(i[0].hasDouble=!0)}o.sort(function(e,t){return e.sel<t.sel?1:e.sel>t.sel?-1:0}),s&&(o[0].isDouble=!0),n.push(o)}}),r.tt.push(n)}),e.tts.push(r)}),console.log(this.tts),this.selectedDay=this.d.getDay()>0&&this.d.getDay()<=5?this.d.getDay()-1:0):this.alert.alert("Kein Stundenplan gesetzt",this.alert.DANGER)},e.prototype.getPos=function(e){var t=-1;return this.baseService.myKurse.forEach(function(n,r){n.fach.toUpperCase()==e.toUpperCase()&&(t=r)}),t},e.prototype.resetDay=function(){this.selectedDay=0},e=i([Object(r.Component)({selector:"app-stundenplan",template:n("./src/app/main/c/stundenplan/stundenplan.component.html"),styles:[n("./src/app/main/c/stundenplan/stundenplan.component.css"),n("./src/app/main/c/stundenplan/tabs.scss")]}),c("design:paramtypes",[a.BaseService,s.AlertService])],e)}()},"./src/app/main/c/stundenplan/tabs.scss":function(e,t){e.exports=".small-tabs /deep/ .mat-tab-list {\n  width: 100% !important; }\n\n.small-tabs /deep/ .mat-tab-labels {\n  display: flex !important;\n  flex-direction: row !important;\n  flex-wrap: nowrap !important; }\n\n.small-tabs /deep/ .mat-tab-label, .small-tabs /deep/ .mat-tab-label-active {\n  flex-grow: 1 !important;\n  min-width: 0 !important;\n  padding: 0 5px !important;\n  margin: 0 !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21heC9Eb2t1bWVudGUvV2ViIFByZ2N0cy9CZXR0ZXJHeW1XdWUvc291cmNlL3NyYy9hcHAvbWFpbi9jL3N0dW5kZW5wbGFuL3RhYnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdJLHNCQUFxQixFQUFBOztBQUh6QjtFQU1JLHdCQUF1QjtFQUN2Qiw4QkFBNkI7RUFDN0IsNEJBQTJCLEVBQUE7O0FBUi9CO0VBWUksdUJBQXNCO0VBQ3RCLHVCQUFzQjtFQUN0Qix5QkFBd0I7RUFDeEIsb0JBQW1CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2Mvc3R1bmRlbnBsYW4vdGFicy5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNtYWxsLXRhYnMge1xuXG4gIC9kZWVwLyAubWF0LXRhYi1saXN0e1xuICAgIHdpZHRoOiAxMDAlIWltcG9ydGFudDtcbiAgfVxuICAvZGVlcC8gLm1hdC10YWItbGFiZWxze1xuICAgIGRpc3BsYXk6IGZsZXghaW1wb3J0YW50O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3chaW1wb3J0YW50O1xuICAgIGZsZXgtd3JhcDogbm93cmFwIWltcG9ydGFudDtcbiAgfVxuXG4gIC9kZWVwLyAubWF0LXRhYi1sYWJlbCwgL2RlZXAvIC5tYXQtdGFiLWxhYmVsLWFjdGl2ZSB7XG4gICAgZmxleC1ncm93OiAxIWltcG9ydGFudDtcbiAgICBtaW4td2lkdGg6IDAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmc6IDAgNXB4IWltcG9ydGFudDtcbiAgICBtYXJnaW46IDAhaW1wb3J0YW50O1xuICB9XG5cbn1cbiJdfQ== */"},"./src/app/main/s/alert.service.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"AlertService",function(){return i});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/material/esm5/material.es5.js"),s=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(e){this.snackBar=e,this.id=0,this.DANGER=1,this.OK=2}return e.prototype.alert=function(e,t,n){n=n||3e3,t===this.DANGER&&(e="⛔ "+e),t===this.OK&&(e="🍕 "+e),this.snackBar.open(e,void 0,{duration:n})},e=s([Object(r.Injectable)(),o("design:paramtypes",[a.MatSnackBar])],e)}()},"./src/app/main/s/base/appMeta.base.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"needsReset",function(){return a}),n.d(t,"checkFerien",function(){return s}),n.d(t,"needsUpdate",function(){return o}),n.d(t,"getResetHeader",function(){return i}),n.d(t,"getResetMessage",function(){return c});var r=n("./src/app/conf.ts");function a(e){e.get(r.CONFIG.resets).subscribe(function(e){localStorage.resets?+localStorage.resets<e&&(localStorage.resets=e,localStorage.justResetted=!0,delete localStorage.stufen,delete localStorage.myStufeID,delete localStorage.myStufe,delete localStorage.myKurse,delete localStorage.kursID,delete localStorage.stundnplanHash,delete localStorage.notUsedNotKurse,delete localStorage.TT,delete localStorage.KlassenKurse,location.reload()):localStorage.resets=e},function(e){console.error("needsReset",e)})}function s(e){e.httpClient.get(r.CONFIG.ferienUrl).subscribe(function(t){e.ferien=t,e.ferien&&e.httpClient.get(r.CONFIG.ferienEndsUrl).subscribe(function(t){e.ferienEndsOn=t},function(e){console.error("getFerienEndError",e)})},function(e){console.error("checkFerienError",e)})}function o(e){return e.deadTested||e.httpClient.get(r.CONFIG.databaseURL+"killswitch.json").subscribe(function(t){e.dead=t,console.log("dead? ",t),localStorage.dead=t,t&&e.router.navigate(["/error"],{queryParams:{dead:!0}})}),new Promise(function(t,n){var a;e.httpClient.get(r.CONFIG.versionURL).subscribe(function(r){r.version.match(e.VERSION)||(a=!0),a?t(r.news):n()})})}function i(e){return e.httpClient.get(r.CONFIG.resetHeader)}function c(e){return e.httpClient.get(r.CONFIG.resetMsg)}},"./src/app/main/s/base/base.service.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BaseService",function(){return BaseService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/_esm5/index.js"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm5/core.js"),_angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/router/fesm5/router.js"),_angular_common_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm5/http.js"),_conf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/conf.ts"),_alert_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/app/main/s/alert.service.ts"),_appMeta_base__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/app/main/s/base/appMeta.base.ts"),__decorate=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,i)}c((r=r.apply(e,t||[])).next())})},__generator=function(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},BaseService=function(){function BaseService(router,httpClient,alertService){var _this=this;if(this.router=router,this.httpClient=httpClient,this.alertService=alertService,this.VERSION=_conf__WEBPACK_IMPORTED_MODULE_4__.APP_VERSION,this.noswipe=!1,this.milchglas=!1,this.selectedTab=0,this.dead=!1,this.ferien=!1,this.ferienEndsOn="",this.justResetted=!1,this.deadTested=!1,this.verifiedNonKurse=!1,this.needsUpdate=function(){return _appMeta_base__WEBPACK_IMPORTED_MODULE_6__.needsUpdate(_this)},this.getResetHeader=function(){return _appMeta_base__WEBPACK_IMPORTED_MODULE_6__.getResetHeader(_this)},this.getResetMessage=function(){return _appMeta_base__WEBPACK_IMPORTED_MODULE_6__.getResetMessage(_this)},this._ws=[],"undefined"==typeof Storage)return this.allowedBrowser=!1,void this.router.navigate(["error"],{queryParams:{oldBrowser:"true"}});localStorage.VERSION=this.VERSION;try{eval("gtag('event', 'startup', {'bgw_version_in_use': localStorage.VERSION})")}catch(e){console.error("Tracking Failed")}this.dead=!!localStorage.dead&&"true"===localStorage.dead,this.acceptedAGB=!!localStorage.acceptedAGB3&&"true"===localStorage.acceptedAGB3,this.credentials=localStorage.credentials?JSON.parse(localStorage.credentials):void 0,this.myKurse=localStorage.myKurse?JSON.parse(localStorage.myKurse):void 0,this.myStufe=localStorage.myStufe?localStorage.myStufe:void 0,this.myStufeID=localStorage.myStufeID?localStorage.myStufeID:void 0,this.TT=localStorage.TT?JSON.parse(localStorage.TT):void 0,this.KlassenKurse=localStorage.KlassenKurse?JSON.parse(localStorage.KlassenKurse):void 0,this.kursID=localStorage.kursID?localStorage.kursID:void 0,this._preLehrer=!localStorage.preLehrer||"true"==localStorage.preLehrer,this.justResetted=!!localStorage.justResetted&&"true"==localStorage.justResetted,this.verifiedNonKurse=!!localStorage.verifiedNonKurse&&"true"==localStorage.verifiedNonKurse,localStorage.justResetted=!1,_appMeta_base__WEBPACK_IMPORTED_MODULE_6__.checkFerien(this),_appMeta_base__WEBPACK_IMPORTED_MODULE_6__.needsReset(this.httpClient)}return Object.defineProperty(BaseService.prototype,"preLehrer",{get:function(){return this._preLehrer},set:function(e){this._preLehrer=e,localStorage.preLehrer=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseService.prototype,"MyKurse",{set:function(e){this.myKurse=e,localStorage.myKurse=JSON.stringify(e)},enumerable:!0,configurable:!0}),Object.defineProperty(BaseService.prototype,"MyStufe",{set:function(e){this.myStufe=e[0],this.myStufeID=e[1],localStorage.myStufe=e[0],localStorage.myStufeID=e[1]},enumerable:!0,configurable:!0}),BaseService.prototype.setTT=function(e){this.TT=e.tt,localStorage.TT=JSON.stringify(e);var t=[];console.log(e),e.tt.forEach(function(e){e.days.forEach(function(e){e.forEach(function(e){"klasse"==e.type&&-1===t.indexOf(e.fach)&&t.push(e.fach)})})}),this.KlassenKurse=t,localStorage.KlassenKurse=JSON.stringify(t),localStorage.stundnplanHash=e.hash},BaseService.prototype.acceptAGB=function(){this.acceptedAGB=!0,localStorage.acceptedAGB3=!0,this.install(),this.router.navigate(["/"],{queryParams:{ua:""}})},BaseService.prototype.checkCredentials=function(e,t,n){var r=this;return n=n||!1,new Promise(function(a){r.httpClient.get(n?_conf__WEBPACK_IMPORTED_MODULE_4__.CONFIG.credentialsCheckLehrerUrl:_conf__WEBPACK_IMPORTED_MODULE_4__.CONFIG.credentialsCheckUrl,{headers:new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__.HttpHeaders({Authorization:"Basic "+btoa(e+":"+t)}),responseType:"text"}).subscribe(function(s){if(s&&!n)localStorage.credentials=JSON.stringify({u:e,p:t}),r.credentials={u:e,p:t},a(!0);else if(s&&n){var o=JSON.parse(localStorage.credentials);o.l={u:e,p:t},console.log(o),localStorage.credentials=JSON.stringify(o),r.credentials=o,a(!0)}},function(e){try{r.alertService.alert(JSON.parse(e.error).error,1)}catch(e){}"Unknown Error"===e.statusText&&r.alertService.alert("Netzwerkfehler",1),n||(delete localStorage.credentials,r.credentials=void 0),a(!1)})})},BaseService.prototype.makeConnections=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r=this.credentials;if(!r)return null;var a="?"+(1e4*Math.random()).toFixed(0);n||(a="");var s=new Promise(function(n,s){fetch(e+a,{headers:{Authorization:"Basic "+(t?btoa(r.l.u+":"+r.l.p):btoa(r.u+":"+r.p))},method:"get",redirect:"follow",cache:"no-cache"}).then(function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return e.ok?(t=n,[4,e.text()]):[3,2];case 1:return t.apply(void 0,[r.sent()]),[3,3];case 2:s({statusText:e.status+" "+e.statusText}),r.label=3;case 3:return[2]}})})}).catch(function(e){s({statusText:"Netzwerkfehler"})})});return Object(rxjs__WEBPACK_IMPORTED_MODULE_0__.from)(s)},BaseService.prototype.install=function(){var e=this;window.installpromptevent&&(window.installpromptevent.prompt(),window.installpromptevent.userChoice.then(function(t){console.log("choice",t),"accepted"===t.outcome?(delete window.installpromptevent,e.alertService.alert("Installiert! Du kannst die App jetzt öffnen")):"dismissed"===t.outcome&&e.alertService.alert("Installation fehlgeschlagen. Probiere es über das Menü erneut",e.alertService.DANGER)}))},BaseService.prototype.setLastVD=function(e,t,n){delete localStorage.lastVD,console.log("setLastVD: "+e+", "+n),this._ws[e]=t,localStorage.lastVD=JSON.stringify({d:new Date,w:this._ws,lehrer:n})},BaseService=__decorate([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)(),__metadata("design:paramtypes",[_angular_router__WEBPACK_IMPORTED_MODULE_2__.Router,_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.HttpClient,_alert_service__WEBPACK_IMPORTED_MODULE_5__.AlertService])],BaseService),BaseService}()},"./src/app/main/s/guard.service.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"GuardService",function(){return d});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/router/fesm5/router.js"),s=n("./src/app/main/s/base/base.service.ts"),o=n("./src/app/main/c/login/login.component.ts"),i=n("./src/app/main/c/cloud/cloud.component.ts"),c=n("./src/app/main/c/stundenplan/stundenplan.component.ts"),l=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){this.baseService=e,this.router=t}return e.prototype.canActivate=function(e,t){return this.baseService.acceptedAGB?(e.component===o.LoginComponent||this.baseService.credentials)&&(!/\/show$/.test(t.url)&&e.component!==c.StundenplanComponent&&e.component!==i.CloudComponent||this.baseService.myKurse)?/\/show$/.test(t.url)&&!this.baseService.verifiedNonKurse?(this.router.navigate(["/show/non-kurse"]),!1):!this.baseService.dead||(this.router.navigate(["/error"],{queryParams:{dead:!0}}),!1):(this.router.navigate(["/"]),!1):(this.router.navigate(["/agb"]),!1)},e=l([Object(r.Injectable)(),u("design:paramtypes",[s.BaseService,a.Router])],e)}()},"./src/app/main/s/message.service.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MessageService",function(){return c});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/common/fesm5/http.js"),s=n("./src/app/conf.ts"),o=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){var t=this;this._count=0,this.dlCount=0,this.count=localStorage.messageCount?localStorage.messageCount:0,this.message$=e.get(s.CONFIG.message),this.message$.subscribe(function(e){t.dlCount=e.count})}return Object.defineProperty(e.prototype,"count",{get:function(){return this._count},set:function(e){this._count=e,localStorage.messageCount=e},enumerable:!0,configurable:!0}),e.prototype.resetCount=function(){this.count=this.dlCount},e=o([Object(r.Injectable)({providedIn:"root"}),i("design:paramtypes",[a.HttpClient])],e)}()},"./src/app/main/s/network/cloud.netw.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"saveKurse",function(){return a}),n.d(t,"fetchCloud",function(){return s});var r=n("./src/app/conf.ts");function a(e,t){return new Promise(function(n,a){for(var s=Math.floor(9999*Math.random());4!==s.toString().length;)s=Math.floor(9999*Math.random());var o,i=(o={},e.forEach(function(e,t){o[t]=e}),o);i.stufe=t.baseService.myStufe,t.baseService.httpClient.put(r.CONFIG.dbUrl+s+".json",i).subscribe(function(e){localStorage.kursID=s,t.baseService.kursID=s,n(s)},function(r){t.saveKurseTrys<5?(console.log(r),t.saveKurseTrys++,t.saveKurse(e).then(function(e){n(e)})):a(r)})})}function s(e,t){return new Promise(function(n,a){t.baseService.makeConnections(r.CONFIG.dbUrl+e+".json").subscribe(function(r){var s=JSON.parse(r);null===s?a({statusText:"Falsche ID"}):s.error?a({statusText:s.error}):s.stufe!==t.baseService.myStufe?a({statusText:"ID gehört zu Stufe/Klasse "+s.stufe}):(localStorage.kursID=e,n(function(e){if(Array.isArray(e))return e;var t=[];for(var n in delete e.stufe,e)t.push(e[n]);return t}(s)))},function(e){a(e)})})}},"./src/app/main/s/network/evakurse.netw.ts":function(e,t,n){"use strict";function r(e,t,n,r){var d=function(e){e=e.replace(/[\n\W]/g,"");function t(e,t,n,r,a,s){return o(function(e,t){return e<<t|e>>>32-t}(o(o(t,e),o(r,s)),a),n)}function n(e,n,r,a,s,o,i){return t(n&r|~n&a,e,n,s,o,i)}function r(e,n,r,a,s,o,i){return t(n&a|r&~a,e,n,s,o,i)}function a(e,n,r,a,s,o,i){return t(n^r^a,e,n,s,o,i)}function s(e,n,r,a,s,o,i){return t(r^(n|~a),e,n,s,o,i)}function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return i=e,function(e){for(var t,n="0123456789ABCDEF",r="",a=0;a<e.length;a++)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,c=-271733879,l=-1732584194,u=271733878,d=0;d<e.length;d+=16){var p=i,f=c,m=l,h=u;c=s(c=s(c=s(c=s(c=a(c=a(c=a(c=a(c=r(c=r(c=r(c=r(c=n(c=n(c=n(c=n(c,l=n(l,u=n(u,i=n(i,c,l,u,e[d+0],7,-680876936),c,l,e[d+1],12,-389564586),i,c,e[d+2],17,606105819),u,i,e[d+3],22,-1044525330),l=n(l,u=n(u,i=n(i,c,l,u,e[d+4],7,-176418897),c,l,e[d+5],12,1200080426),i,c,e[d+6],17,-1473231341),u,i,e[d+7],22,-45705983),l=n(l,u=n(u,i=n(i,c,l,u,e[d+8],7,1770035416),c,l,e[d+9],12,-1958414417),i,c,e[d+10],17,-42063),u,i,e[d+11],22,-1990404162),l=n(l,u=n(u,i=n(i,c,l,u,e[d+12],7,1804603682),c,l,e[d+13],12,-40341101),i,c,e[d+14],17,-1502002290),u,i,e[d+15],22,1236535329),l=r(l,u=r(u,i=r(i,c,l,u,e[d+1],5,-165796510),c,l,e[d+6],9,-1069501632),i,c,e[d+11],14,643717713),u,i,e[d+0],20,-373897302),l=r(l,u=r(u,i=r(i,c,l,u,e[d+5],5,-701558691),c,l,e[d+10],9,38016083),i,c,e[d+15],14,-660478335),u,i,e[d+4],20,-405537848),l=r(l,u=r(u,i=r(i,c,l,u,e[d+9],5,568446438),c,l,e[d+14],9,-1019803690),i,c,e[d+3],14,-187363961),u,i,e[d+8],20,1163531501),l=r(l,u=r(u,i=r(i,c,l,u,e[d+13],5,-1444681467),c,l,e[d+2],9,-51403784),i,c,e[d+7],14,1735328473),u,i,e[d+12],20,-1926607734),l=a(l,u=a(u,i=a(i,c,l,u,e[d+5],4,-378558),c,l,e[d+8],11,-2022574463),i,c,e[d+11],16,1839030562),u,i,e[d+14],23,-35309556),l=a(l,u=a(u,i=a(i,c,l,u,e[d+1],4,-1530992060),c,l,e[d+4],11,1272893353),i,c,e[d+7],16,-155497632),u,i,e[d+10],23,-1094730640),l=a(l,u=a(u,i=a(i,c,l,u,e[d+13],4,681279174),c,l,e[d+0],11,-358537222),i,c,e[d+3],16,-722521979),u,i,e[d+6],23,76029189),l=a(l,u=a(u,i=a(i,c,l,u,e[d+9],4,-640364487),c,l,e[d+12],11,-421815835),i,c,e[d+15],16,530742520),u,i,e[d+2],23,-995338651),l=s(l,u=s(u,i=s(i,c,l,u,e[d+0],6,-198630844),c,l,e[d+7],10,1126891415),i,c,e[d+14],15,-1416354905),u,i,e[d+5],21,-57434055),l=s(l,u=s(u,i=s(i,c,l,u,e[d+12],6,1700485571),c,l,e[d+3],10,-1894986606),i,c,e[d+10],15,-1051523),u,i,e[d+1],21,-2054922799),l=s(l,u=s(u,i=s(i,c,l,u,e[d+8],6,1873313359),c,l,e[d+15],10,-30611744),i,c,e[d+6],15,-1560198380),u,i,e[d+13],21,1309151649),l=s(l,u=s(u,i=s(i,c,l,u,e[d+4],6,-145523070),c,l,e[d+11],10,-1120210379),i,c,e[d+2],15,718787259),u,i,e[d+9],21,-343485551),i=o(i,p),c=o(c,f),l=o(l,m),u=o(u,h)}return Array(i,c,l,u)}(function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}(i),8*i.length))).toLowerCase();var i}(e),p=(new DOMParser).parseFromString(e,"text/html"),f=s(p),m=p.getElementsByTagName("tbody")[0];m.firstElementChild.remove();var h=[];Array.from(m.children).forEach(function(e){if(""!==e.textContent.trim()){0;var t=[];Array.from(e.children).forEach(function(e,n){if(0!==n)if(c(e))t.push({isUsed:!0});else{var a=l(e),s=Array.from(e.getElementsByTagName("tr")),d=!1;if(!a){var p=u(h,n);d=p.isUsed,n=p.tag}1===s.length?t.push(o(s,a,n,d)):t.push(i(s,e,r,f,a,n,d))}}),0!==t.length&&h.push(t)}}),a(h,n,f,t,d)}function a(e,t,n,r,a){var s={days:[[],[],[],[],[]]};e.forEach(function(e,t){e.forEach(function(e,n){var r,a=e.tag;for(a=void 0===a||-1===a?n:a;void 0!==s.days[a][t];)t++;void 0!==e.fach&&delete(r=Object.assign({},e)).isBig,void 0===r&&(r={}),s.days[a][t]=r,e.isBig&&(s.days[a][t+1]=r)})}),s.days.forEach(function(e,t){for(var n=s.days[t].length,r=0;r<n;r++)if(s.days[t][n-r]){if(s.days[t][n-r].type)break;delete s.days[t][n-r]}else delete s.days[t][n-r];s.days[t][9]&&(s.days[t][9].type||delete s.days[t][9]),s.days[t]=e.filter(function(e){return void 0!==e})});var o=!1;t.forEach(function(e){e.stufe===r&&(e.tt[n]=s,e.hash+=a,o=!0)}),o||t.push({stufe:r,tt:0===n?[s]:[void 0,s],hash:a})}function s(e){return"a"===e.querySelectorAll('font[size="3"][face="Arial"]')[1].textContent.split(/(?:\d+\.){2}\d{4} /)[1][0].toLowerCase()?0:1}function o(e,t,n,r){var a=Array.from(e[0].getElementsByTagName("font")).map(function(e){return e.textContent.replace(/\n/g,"")});return{type:"klasse",isBig:t,fach:a[0],lehrer:a[1],raum:a[2],tag:n-1,isUsed:r}}function i(e,t,n,r,a,s,o){var i=t.getElementsByTagName("b")[0].textContent,c=[];return e.forEach(function(e,t){if(0!==t){var a=Array.from(e.getElementsByTagName("font")).map(function(e){return e.textContent.replace(/\n/g,"")}),s=a[0],o=a[1],l=a[2];c.push({kurs:s,raum:l});var u=!1;n[r].kurse.forEach(function(e){s===e.fach&&(u=!0)}),u||n[r].kurse.push({title:i,fach:s,lehrer:o})}}),{type:"kurs",fach:i,isBig:a,raeume:c,tag:s-1,isUsed:o}}function c(e){return/^\npause\n/i.test(e.textContent)||""===e.textContent}function l(e){return"4"===e.getAttribute("rowspan")}function u(e,t){var n=!1,r=e[e.length-1].findIndex(function(e){return!e.isBig&&!e.isUsed});return t=-1===r?t:r+1,-1!==r&&(e[e.length-1][r].isUsed=!0,n=!0),{tag:t,isUsed:n}}n.r(t),n.d(t,"evaKurse",function(){return r}),n.d(t,"umdrehen",function(){return a}),n.d(t,"getWoche",function(){return s}),n.d(t,"handleKlasse",function(){return o}),n.d(t,"handleKurse",function(){return i}),n.d(t,"isPauseOrEmpty",function(){return c}),n.d(t,"isDoppelStunde",function(){return l}),n.d(t,"fitIn",function(){return u})},"./src/app/main/s/network/evavd.ts":function(e,t,n){"use strict";function r(e,t){t=t||!1;var n=["selbstständiges arbeiten","selbständiges arbeiten","selbstständies arbeiten","selbstäniges arbeiten","eigenständiges arbeiten","eva"],r=["entfall","vertretung","stattvertretung","raumvtr","klausur","absenz"],a=["e","v","statt-v","r","k","fehlt"],s=[];var o=[void 0,void 0],i=(new DOMParser).parseFromString(e,"text/html");o[0]=i.querySelector('meta[http-equiv="refresh"]').content.split("URL=")[1],Array.from(i.querySelectorAll("tr.list.odd,tr.list.even")).forEach(function(e){if(0!==e.children.length){var o=e.children,c=e.firstChild;if(/( |^)inline_header( |$)/.test(c.className))s.push({stufe:c.innerText.split(" ")[0],cntnd:[]});else{var l,u="",d=t?"?":o[4].innerText.replace(/\s/g,""),p=o[1].innerText.replace(/\s/g,"").split("-"),f=o[t?3:2].innerText,m=o[t?6:3].innerText.replace(/\W/g,"").toLowerCase(),h=o[t?4:5].innerText.replace(/\s/g,""),b=o[t?7:6].innerText.replace(" ","");n.forEach(function(e){b=b.toUpperCase().replace(e.toUpperCase(),"SELBST. ARB.")}),m=function(e,t){var n=t.includes("SELBST. ARB."),s=r.findIndex(function(t){return t===e});return-1!==s||n?n?"e (v)":a[s]:e}(m,b=b.replace("AUFGABEN","AUFG.")),t?(i.getElementsByClassName("mon_title")[0].innerText.split(".").forEach(function(e,t,n){t!==n.length-1&&(u+=e.replace(" ","")+".")}),l=o[2].innerText.replace(/\s/g,"")):u=o[0].innerText.replace(/\s/g,"");var g={type:m,date:u,fach:f,oldRaum:d,newRaum:h,info:b};t&&(g.stufe=l),p.forEach(function(e,t,n){var r=Object.assign({},g);if(r.stunde=e,s[s.length-1].cntnd.push(r),t===n.length-1){var a="";n.forEach(function(e,t){a+=e+(t<n.length-1?" - ":"")}),(r=Object.assign({},g)).stunde=a,r.nd=1,s[s.length-1].cntnd.push(r)}})}}});var c=[];return Array.from(i.querySelectorAll("tr.info")).forEach(function(e,t){Array.from(e.children).forEach(function(e){"th"===e.tagName.toLowerCase()||1!==e.parentElement.childElementCount&&1===t?c.push("<b>"+e.innerText+"</b>"):c.push(e.innerText)})}),o[1]=[s,c],o}n.r(t),n.d(t,"evaVD",function(){return r})},"./src/app/main/s/network/getVertretungsdaten.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getVertretungsDaten",function(){return o});var r=n("./src/app/conf.ts"),a=n("./src/app/main/s/network/evavd.ts"),s="subst_001.htm";function o(e,t,n,i,c,l,u){return void 0===t&&(t=new DOMParser),void 0===c&&(c="f1"),void 0===l&&(l=["subst_001.htm","subst_001.htm"]),void 0===u&&(u=[]),e.baseService.credentials.l&&e.baseService.preLehrer?new Promise(function(s,o){e.baseService.makeConnections(r.CONFIG.lehrerURL+c+"/"+l[i],!0).subscribe(function(e){null===t.parseFromString(e,"text/html").querySelector(".mon_title").textContent.trim().match(n)&&o(c);var r=Object(a.evaVD)(e,!0);l[i]=r[0],u.push(r[1]),s([n,i,c,l,u])},function(t){e.alertService.alert("Failure: "+t.statusText,e.alertService.DANGER),o("fail")})}).then(function(n){var r=n[0],a=n[1],i=n[2],c=n[3],l=n[4];return c[a]==s?e.compileVD(l,!0):o(e,t,r,a,i,c,l)}).catch(function(r){return"fail"!=r?(console.log("rej "+r),"f2"!=r?o(e,t,n,i,"f2"):new Promise(function(e,t){t("loop")})):(e.baseService.milchglas=!1,new Promise(function(e,t){t()}))}):new Promise(function(s,o){e.baseService.makeConnections(r.CONFIG.vertURL+c+"/"+l[i]).subscribe(function(e){null===t.parseFromString(e,"text/html").querySelector(".mon_title").textContent.trim().match(n)&&o(c);var r=Object(a.evaVD)(e);l[i]=r[0],u.push(r[1]),s([n,i,c,l,u])},function(t){e.alertService.alert("Failure: "+t.statusText,e.alertService.DANGER),o("fail")})}).then(function(n){var r=n[0],a=n[1],i=n[2],c=n[3],l=n[4];return c[a]==s?e.compileVD(l):o(e,t,r,a,i,c,l)}).catch(function(r){return"fail"!=r?"f2"!=r?o(e,t,n,i,"f2"):new Promise(function(e,t){t("loop")}):new Promise(function(e,t){t()})})}},"./src/app/main/s/network/initial.netw.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getTT",function(){return i}),n.d(t,"get_stufen",function(){return c}),n.d(t,"getkurse",function(){return l});var r=n("./src/app/conf.ts"),a=n("./src/app/main/s/network/evakurse.netw.ts"),s=[],o=[{kurse:[]},{kurse:[]}];function i(e){console.log(e),console.log(s);var t=null,n=null;return s.forEach(function(r){r.stufe===e&&(t=r.tt,n=r.hash)}),{tt:t,hash:n}}function c(e){return new Promise(function(t,n){null===e&&n("Failure: No Credentials given, how did you even get here?"),e.subscribe(function(e){var n=e.split('<option value="'),r=[n[1][0]+n[1][1],n[2][0]+n[2][1]];console.log(r);var a=e.split("var classes = ")[1].split(";")[0].replace(/(")|(\[)|(])|( )/g,"").split(",");t([a,r])},function(e){console.log(e),n("Failure: "+e.statusText)})})}function l(e,t,n,i){return new Promise(function(c,l){n[0]&&n[1]||l("Internal Error: #01");var d=i.makeConnections(r.CONFIG.baseKursURL+n[0]+"/c/c"+u(t)+".htm");null===d&&l("Failure: Connection could not be made"),d.subscribe(function(l){Object(a.evaKurse)(l,e,s,o),i.makeConnections(r.CONFIG.baseKursURL+n[1]+"/c/c"+u(t)+".htm").subscribe(function(t){Object(a.evaKurse)(t,e,s,o);var n=[];o[0].kurse.forEach(function(e){o[1].kurse.forEach(function(t){t===e&&n.push(e)})});var r=[];o[0].kurse.forEach(function(e){-1===n.indexOf(e)&&r.push(e)}),o=[{kurse:[]},{kurse:[]}],c(r)})},function(e){console.log(e),l("Failure: "+e.statusText)})})}function u(e){for(var t=""+e;t.length<5;)t="0"+t;return t}},"./src/app/main/s/network/netw.service.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"NetwService",function(){return p});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/conf.ts"),s=n("./src/app/main/s/base/base.service.ts"),o=n("./src/app/main/s/alert.service.ts"),i=n("./src/app/main/s/network/cloud.netw.ts"),c=n("./src/app/main/s/network/initial.netw.ts"),l=n("./src/app/main/s/network/getVertretungsdaten.ts"),u=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t){var n=this;this.baseService=e,this.alertService=t,this.wochen=[],this.saveKurseTrys=0,this.getkurse=function(e,t){return c.getkurse(e,t,n.wochen,n.baseService)},this.getTT=function(e){return c.getTT(e)},this.fetchCloud=function(e){return i.fetchCloud(e,n)},this.saveKurse=function(e){return i.saveKurse(e,n)}}return e.prototype.getSchulplanerInfo=function(e){var t=this;return e=e.replace(/\./g,"-"),new Promise(function(n,r){t.baseService.makeConnections(a.CONFIG.databaseURL+"info/"+e+"/"+t.baseService.myStufe+".json").subscribe(function(r){var s="null"!=r?JSON.parse(r):[];t.baseService.makeConnections(a.CONFIG.databaseURL+"info/"+e+"/*.json").subscribe(function(e){var t="null"==e?[]:JSON.parse(e);n(s.concat(t))})},function(e){r(e)})})},e.prototype.compileVD=function(e,t){t=t||!1;var n={},r=[];for(var a in e.forEach(function(e){e[0].forEach(function(e){var r=[];e.cntnd.forEach(function(n){var a={stufe:f(t?n.stufe:e.stufe),date:f(n.date),fach:f(n.fach),oldRaum:f(n.oldRaum),newRaum:f(n.newRaum),info:f(n.info),stunde:f(n.stunde),type:f(n.type),nd:n.nd};t&&(a.lehrer=f(e.stufe)),r.push(a)}),r.forEach(function(e){n[e.stufe]?n[e.stufe].push(e):n[e.stufe]=[e]})}),e[1][0]&&r.push(e[1])}),n)n[a].sort(function(e,t){return e.stunde>t.stufe?1:e.stufe<t.stufe?-1:0});return[r,n]},Object.defineProperty(e.prototype,"stufen",{get:function(){var e=this;return new Promise(function(t,n){e._stufen=localStorage.stufen?JSON.parse(localStorage.stufen):void 0,e._stufen&&t(e._stufen);var r=e.baseService.makeConnections(a.CONFIG.credentialsCheckUrl);c.get_stufen(r).then(function(n){var r=n[0];e.wochen=n[1],e._stufen=r,localStorage.stufen=JSON.stringify(r),t(r)}).catch(function(t){e.alertService.alert(t,e.alertService.DANGER),n(t)})})},enumerable:!0,configurable:!0}),e.prototype.getVertretungsDaten=function(e,t,n,r,a){return Object(l.getVertretungsDaten)(this,new DOMParser,e,t,n,r,a)},e=u([Object(r.Injectable)(),d("design:paramtypes",[s.BaseService,o.AlertService])],e)}();function f(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}},"./src/app/main/s/refreshtt.service.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"RefreshttService",function(){return d});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/network/netw.service.ts"),s=n("./src/app/main/s/base/base.service.ts"),o=n("./src/app/conf.ts"),i=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,i)}c((r=r.apply(e,t||[])).next())})},u=function(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},d=function(){function e(e,t){this.baseService=e,this.netwService=t,this.fails=0}return e.prototype.removeKurse=function(){this.baseService.myKurse=void 0,delete localStorage.myKurse,this.baseService.kursID=void 0,delete localStorage.kursID,this.baseService.verifiedNonKurse=!1,delete localStorage.verifiedNonKurse,delete localStorage.notUsedNotKurse},e.prototype.removeTT=function(){this.baseService.milchglas=!0,this.baseService.TT=void 0,delete localStorage.TT,this.baseService.verifiedNonKurse=!1,delete localStorage.notUsedNotKurse,console.log("removed")},e.prototype.refreshTT=function(){var e=this;return this.removeTT(),new Promise(function(t,n){e.netwService.stufen.then(function(){console.log("calle getkurse"),e.netwService.getkurse(e.baseService.myStufe,e.baseService.myStufeID).then(function(n){console.log(n),n.forEach(function(t){e.baseService.myKurse.forEach(function(e){e.fach==t.fach&&!0})}),e.baseService.setTT(e.netwService.getTT(e.baseService.myStufe)),e.removeKurse(),e.baseService.KlassenKurse=void 0,delete localStorage.KlassenKurse,e.removeTT(),e.baseService.milchglas=!1,t()}).catch(function(r){console.log(r),setTimeout(function(){e.fails++,e.fails>2?n():t(e.refreshTT())},500)})}).catch(function(e){console.log(e)})})},e.prototype.needsRefresh=function(){return l(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:return[4,this.baseService.makeConnections(o.CONFIG.hashURL+"?stufe="+this.baseService.myStufeID,!1,!1).toPromise()];case 1:return e=n.sent(),(t=e.trim()===localStorage.stundnplanHash.trim())||console.error("HASHABGLEICH FEHLGESCHLAGEN "+e),[2,!t]}})})},e=i([Object(r.Injectable)(),c("design:paramtypes",[s.BaseService,a.NetwService])],e)}()},"./src/app/main/sure/sure.dialog.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SureDialogComponent",function(){return i});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/material/esm5/material.es5.js"),s=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(){function e(e){this.dialogRef=e}return e.prototype.close=function(){this.dialogRef.close()},e=s([Object(r.Component)({selector:"app-sure",template:'\n    <h4 mat-dialog-title>Willst du das wirklich?</h4>\n    <div mat-dialog-actions>\n      <button mat-button (click)="close()" cdkFocusInitial>Abbrechen</button>\n      <button mat-button [mat-dialog-close]="true" color="red">Löschen</button>\n    </div>\n\n  '}),o("design:paramtypes",[a.MatDialogRef])],e)}()},"./src/app/verifynotkurse/verifynotkurse-routing.module.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"VerifynotkurseRoutingModule",function(){return i});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/router/fesm5/router.js"),s=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=[{path:"",component:n("./src/app/verifynotkurse/verifynotkurse.component.ts").VerifynotkurseComponent}],i=function(){function e(){}return e=s([Object(r.NgModule)({imports:[a.RouterModule.forChild(o)],exports:[a.RouterModule]})],e)}()},"./src/app/verifynotkurse/verifynotkurse.component.html":function(e,t){e.exports='<mat-card class="center" style="margin-bottom: 50px!important; margin-top: 10px!important;">\n\n  <h3 mat-card-title>BGW hat Nicht-Kurse gefunden</h3>\n  <p>Da manche Kurse nicht als solche zu identifizieren sind, geht BGW davon aus, dass es sich um Fächer handelt,\n    bei denen die ganze Klasse anwesend ist. Für die Unter- und Mittelstufe ist das vollkommen normal. Solltest du in der Oberstufe sein deutet dies oft auf Fehler in der Plangunssoftware hin.\n    <b>Bitte überprüfe die Auswahl und wähle Fächer ab, die du nicht hast.</b>\n  </p>\n\n  <button mat-raised-button\n          class="big-btn"\n          style="margin: 10px 5px"\n          *ngFor="let k of klassenK"\n          [ngClass]="{\'green-btn\': k.sel}"\n          [disabled]="k.dis"\n          (click)="k.sel = !k.sel">{{k.klasse}}</button>\n\n  <br><br><br>\n\n  <div>\n    <button mat-raised-button (click)="submit()">Ok</button>\n  </div>\n\n\n</mat-card>\n'},"./src/app/verifynotkurse/verifynotkurse.component.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"VerifynotkurseComponent",function(){return c});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./src/app/main/s/base/base.service.ts"),s=n("./node_modules/@angular/router/fesm5/router.js"),o=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.base=e,this.router=t,this.klassenK=[]}return e.prototype.ngOnInit=function(){this.klassenK=Array.from(this.base.KlassenKurse).map(function(e){return{klasse:e,sel:!0,dis:!1}}),localStorage.notUsedNotKurse&&(this.klassenK=this.klassenK.concat(JSON.parse(localStorage.notUsedNotKurse).map(function(e){return{klasse:e,sel:!1,dis:!0}})))},e.prototype.submit=function(){var e=this,t=null;localStorage.notUsedNotKurse&&(t=JSON.parse(localStorage.notUsedNotKurse));var n=this.klassenK.filter(function(e){return e.sel&&!e.dis}).map(function(e){return e.klasse}),r=this.klassenK.filter(function(e){return!e.sel||e.dis}).map(function(e){return e.klasse});if(JSON.stringify(r)===JSON.stringify(t)&&JSON.stringify(n)===JSON.stringify(this.base.KlassenKurse))return this.router.navigate(["/show"]);this.base.TT.forEach(function(t,r){t.days.forEach(function(t,a){e.base.TT[r].days[a]=t.filter(function(e){return!("klasse"===e.type&&-1===n.indexOf(e.fach))})})}),localStorage.TT=JSON.stringify(this.base.TT),this.base.KlassenKurse=n,localStorage.KlassenKurse=JSON.stringify(n),localStorage.notUsedNotKurse=JSON.stringify(r),this.base.verifiedNonKurse=!0,localStorage.verifiedNonKurse=!0,this.router.navigate(["/show"])},e=o([Object(r.Component)({selector:"app-verifynotkurse",template:n("./src/app/verifynotkurse/verifynotkurse.component.html")}),i("design:paramtypes",[a.BaseService,s.Router])],e)}()},"./src/app/verifynotkurse/verifynotkurse.module.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"VerifynotkurseModule",function(){return l});var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/common/fesm5/common.js"),s=n("./src/app/verifynotkurse/verifynotkurse.component.ts"),o=n("./node_modules/@angular/material/esm5/material.es5.js"),i=n("./src/app/verifynotkurse/verifynotkurse-routing.module.ts"),c=function(e,t,n,r){var a,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},l=function(){function e(){}return e=c([Object(r.NgModule)({imports:[a.CommonModule,i.VerifynotkurseRoutingModule,o.MatButtonModule,o.MatCardModule],declarations:[s.VerifynotkurseComponent]})],e)}()},"./src/environments/environment.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"environment",function(){return r});var r={production:!1}},"./src/main.ts":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@angular/core/fesm5/core.js"),a=n("./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js"),s=n("./src/app/app.module.ts");n("./src/environments/environment.ts").environment.production&&Object(r.enableProdMode)(),Object(a.platformBrowserDynamic)().bootstrapModule(s.AppModule).catch(function(e){return console.log(e)})},0:function(e,t,n){e.exports=n("./src/main.ts")}},[[0,"runtime","vendor"]]]);